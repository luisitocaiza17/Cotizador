diff --git a/WebContent/WEB-INF/web.xml b/WebContent/WEB-INF/web.xml
--- a/WebContent/WEB-INF/web.xml
+++ b/WebContent/WEB-INF/web.xml
@@ -398,8 +398,8 @@
   <servlet-mapping>
     <servlet-name>com.qbe.cotizador.servlets.cotizacion.ContenedorController</servlet-name>
     <url-pattern>/ContenedorController</url-pattern>
-  </servlet-mapping>  
-   <servlet>
+  </servlet-mapping>
+  <servlet>
     <servlet-name>com.qbe.cotizador.servlets.cotizacion.vehiculos_dinamicos.tarificador.TarificadorController</servlet-name>
     <servlet-class>com.qbe.cotizador.servlets.cotizacion.vehiculos_dinamicos.tarificador.TarificadorController</servlet-class>
   </servlet>
@@ -423,4 +423,4 @@
     <persistence-context-ref-name>CotizadorWebPC</persistence-context-ref-name>
     <persistence-unit-name>CotizadorWebPU</persistence-unit-name>
   </persistence-context-ref>
-</web-app>
+</web-app>
\ No newline at end of file
diff --git a/WebContent/dashboard/AgriParametroPorCanal.jsp b/WebContent/dashboard/AgriParametroPorCanal.jsp
--- a/WebContent/dashboard/AgriParametroPorCanal.jsp
+++ b/WebContent/dashboard/AgriParametroPorCanal.jsp
@@ -24,6 +24,12 @@
 <script src="../static/js/Kendo/kendo.web.min.js"></script>
 
 <style type="text/css">
+.modal .modal-dialog {
+	width: 80%;
+}
+.modal-body {
+    height:80%; 
+}
 .tab_strip {
 	height: 200px;
 }
@@ -184,6 +190,8 @@
 							var allLiElementsToBeRemoved = up.wrapper.find('.k-file');
 							up._removeFileEntry(allLiElementsToBeRemoved );	
 							$("#soloActulizar").hide();
+							$("#cajaTexto").hide();
+							$("#mensajeTexto").hide();
 							limpiar();
 						});
 
@@ -320,7 +328,8 @@
 
 	function actualizar(parametroId) {
 		$("#soloActulizar").show();
-		
+		$("#cajaTexto").show();
+		$("#mensajeTexto").show();
 		var up = $('#files').data().kendoUpload;
 		var allLiElementsToBeRemoved = up.wrapper.find('.k-file');
 		up._removeFileEntry(allLiElementsToBeRemoved );	
@@ -407,6 +416,8 @@
 	
 	function actualizarPorCanalCultivo(parametroCanalId,parametroCultivoId) {
 		$("#soloActulizar").show();
+		$("#cajaTexto").show();
+		$("#mensajeTexto").show();
 		limpiar();
 		if ((parametroCanalId === '' || typeof parametroCanalId === 'undefined') || (parametroCultivoId === '' || typeof parametroCultivoId === 'undefined'))
 			return false;
@@ -503,7 +514,7 @@
 								<input type="hidden" class="form-control" id="id">
 								<table style="width: 100%">
 									<tr>
-										<td>
+										<td width="45%">
 											<label style="width: 100%">Punto de Venta:</label>
 											<select id="canal" name="canal" data-placeholder="Seleccione una opción..." validationMessage="Campo requerido!!!" required="required" required>
 										</select></td>
@@ -507,14 +518,10 @@
 											<label style="width: 100%">Punto de Venta:</label>
 											<select id="canal" name="canal" data-placeholder="Seleccione una opción..." validationMessage="Campo requerido!!!" required="required" required>
 										</select></td>
-									</tr>
-									<tr>
-										<td><br /></td>
-									</tr>
-									<tr>
-										<td>
+										<td width="10%"></td>
+										<td width="45%">
 											<label style="width: 100%">Tipo Cultivo:</label>
 											<select id="tipoCultivo" name="tipoCultivo" data-placeholder="Seleccione una opción..." validationMessage="Campo requerido!!!" required="required" required>
 											</select>
 										</td>
 									</tr>
@@ -516,6 +523,7 @@
 											<label style="width: 100%">Tipo Cultivo:</label>
 											<select id="tipoCultivo" name="tipoCultivo" data-placeholder="Seleccione una opción..." validationMessage="Campo requerido!!!" required="required" required>
 											</select>
 										</td>
 									</tr>
+									
 									<tr>
@@ -521,8 +529,5 @@
 									<tr>
-										<td><br /></td>
-									</tr>
-									<tr>
-										<td>
+										<td width="45%">
 											<label style="width: 100%">Nombre Plantilla:</label>
 											<input type="text" id="plantillaNombre" name="plantillaNombre" class="form-control" >
 										</td>
@@ -526,7 +531,12 @@
 											<label style="width: 100%">Nombre Plantilla:</label>
 											<input type="text" id="plantillaNombre" name="plantillaNombre" class="form-control" >
 										</td>
+										<td width="10%"></td>
+										<td width="45%">
+											<label style="width: 100%">Plantilla ENSURANCE ID:</label>
+											<input type="number" id="plantillaId" name="plantillaId" class="form-control" >
+										</td>
 									</tr>
 									<tr>
 										<td><br /></td>
 									</tr>
@@ -529,5 +539,6 @@
 									</tr>
 									<tr>
 										<td><br /></td>
 									</tr>
+									
 									<tr>
@@ -533,5 +544,5 @@
 									<tr>
-										<td>
-											<label style="width: 100%">Plantilla ENSURANCE ID:</label>
-											<input type="number" id="plantillaId" name="plantillaId" class="form-control" >
+										<td width="45%">
+											<label style="width: 100%">Numero Contenedor:</label>
+											<input type="text" id="sucursalEmisionId" name="sucursalEmisionId" class="form-control" >
 										</td>
@@ -537,8 +548,7 @@
 										</td>
-									</tr>
-									<tr>
-										<td>
+										<td width="10%"> </td>
+										<td width="45%">
 											<label style="width: 100%">Contenedor ENSURANCE ID:</label>
 											<input type="number" id="contenedorId" name="contenedorId" class="form-control" >
 										</td>
 									</tr>
@@ -541,5 +551,6 @@
 											<label style="width: 100%">Contenedor ENSURANCE ID:</label>
 											<input type="number" id="contenedorId" name="contenedorId" class="form-control" >
 										</td>
 									</tr>
+									
 									<tr>
@@ -545,11 +556,5 @@
 									<tr>
-										<td>
-											<label style="width: 100%">Numero Contenedor:</label>
-											<input type="text" id="sucursalEmisionId" name="sucursalEmisionId" class="form-control" >
-										</td>
-									</tr>
-									<tr id="soloActulizar">
-										<td>
+										<td id="soloActulizar">
 											<label style="width: 100%">PLANTILLA ACTUAL:</label>
 											<button type="button" class="btn btn-default" id="plantillaActual" onclick="descargarPlantilla();" name="plantillaActual" >descargar</button>
 										</td>
@@ -553,9 +558,8 @@
 											<label style="width: 100%">PLANTILLA ACTUAL:</label>
 											<button type="button" class="btn btn-default" id="plantillaActual" onclick="descargarPlantilla();" name="plantillaActual" >descargar</button>
 										</td>
-									</tr>
-									<tr>
-										<td>
+										<td ></td>
+										<td >
 											<div class="row" style="display: inline;" id="content-Upload">
 											<div class="col-lg-12">
 												<div class="table-responsive">
@@ -579,7 +583,8 @@
 										</div>
 										</td>
 									</tr>
-									<tr>
-										<td colspan="4">Texto:
+									
+									<tr id="mensajeTexto">
+										<td colspan="4"><h3>Texto:</h3>
 										</td>
 									</tr>
@@ -584,10 +589,9 @@
 										</td>
 									</tr>
-									<tr>
-										<td colspan="4"><textarea id="texto" rows="10" cols="30"
-									style="height: 100%; width: 100%; max-width: 400px;"
-									class="form-control required"></textarea>
-										</td>
+									<tr id="cajaTexto">
+										<td colspan="4"><textarea id="texto" rows="30" cols="30"
+												style="height: 500px; width: 100%; max-width: 600px;"
+												class="form-control"></textarea></td>
 									</tr>
 									
 									<tr>
diff --git a/WebContent/dashboard/AgriUsuariosOffline.jsp b/WebContent/dashboard/AgriUsuariosOffline.jsp
--- a/WebContent/dashboard/AgriUsuariosOffline.jsp
+++ b/WebContent/dashboard/AgriUsuariosOffline.jsp
@@ -169,6 +169,10 @@
 	            type: "json",
 	            serverPaging: true,
 	            serverSorting: true,
+	            serverFiltering: true,
+	            filterable: {
+                    mode: "row"
+                },
 	            pageSize: 20,
 	            transport:{
 	            	read: {
@@ -357,6 +361,7 @@
 		<!-- Button trigger modal -->
 		<button class="btn btn-primary" data-toggle="modal" data-target="#add" id="addButton">
 			<span class="glyphicon glyphicon-plus"></span> &nbsp; Nuevo
+			
 		</button>
 
 		<!-- Modal -->
diff --git a/build/classes/com/qbe/cotizador/model/Cliente.class b/build/classes/com/qbe/cotizador/model/Cliente.class
index a726db7131b3793cd13a36e1be2832277eb944a6..c866b59b23883a6c1d05180f27e0a6d4a62941cc
GIT binary patch
literal 2569
zc$|e*ZFAE`5Z()ZA*pGIaY6|tnAbWXL=b2ThNPs90uD|>Y?BV*Lq?Ww%rUkOBsp#R
zoBE-hDbtyL=nv?R>hw8DR$BR-c*Z{M-m}j>y4^kh{m-9&5zzyBoux5GS8drdKDM}F
zOJDqKwWVwHWSe)5N>^~l=UGZII{)4}w2ZFhbc~(Wdv5z#$}lPfULlPJcZJnObgRn&
z_5yQ{yPlBF>*_iqw#n#RMLM2uIsTs2?ejE+AI4}*v>D}V$0-`VE1b>~MwjY+#}_@m
zCp-b_HOG;@<%85?G!q2;WPDI*JfAx@H>zy}UDs?p=MHx*pSOeD0G;)GWp|EF#3NJl
z=tF?7uAAG<YV!@FjAi@cP~xTb8D()qqHW;?uGK~zq!~iMaz&GB%W{sIa>r3w@&UC1
zo3?ahPuLct#gW8oLuhc!X>x2z;Z$U|-*W&+IaUu<nu&8A@Im;2s>BpZBszVLou~yE
z&1y(v!u)Z-fjx-GJQa@cR~elt&F>*;1&Sx=4Bg7nHM-7dvL+n9-S4%y+YH+#Uz0Yv
z#zODFj+`m~o$yXN+(;s1q&wWNLVuw&Kio^>#OQ90a&!(rF9c4PhH*;kIEdDw8bkfQ
zihYoy0!?GjJKjr`_7!{raC6WFH<0|aK2Us*b2LL25$ydZ_-5(USe0;kpfAxVODE*k
zw2G4PU5+l%EGRuar7>EOhEa(tC~?UKQmNK+G^b9#;AsFjh=%ODHs27c>bc0hr0S#Z
zK6N1e5z1cFY;L2&+q->SL)=rHaj2$VKN>Mqaa|bXZS_6da$iYT^-21p+GcdSVb;t_
zvuGDL>N{J-2n+MacihFgB-$%wH9@mOG*S5!+wy5F(T!4EDVF2QB_XUS+Y(c8aRe3W
z`G0)av50s$D)|pD%({u>;oVkTDdWgw6o-MuAmE#(49!xO&f<9-clQ`g;ES1p{W<I@
zSd&=K!=B=lrwedkYyv3SJ%VMhei8W4dy#JvmhxSO{iR1&V9v$7pJBZkZWIFpHwb=j
z1pi{Vhq0y?{-B$`1*Es}t8@{~Q;HVoD?H^w5S8G=e-6BNA_5~O_?;GijR`V=^R6~{
zDF{-*t3aznnT0!_Xfc`oK4O*whM5o*F{r2T&=}nVYFNnfF9{)EYlS?7KPlw$Ct6Ml
zd5oCy2qCIGD)Be;twzYB<cX|kg_P-u?nE9Xg{&dw`w>FI{$TVJIfjL-CWV+<A<vLP
zBV;uxq>7l$5kkVIWDu(BkxEj?mR5+V?~zJU$Sz{)BZPzlFh(0e%=2IrUgGIR@B)lB
f-%{#X;K5+jXv?GR*xXU(tJvICW<53=%544%7qTs#

diff --git a/build/classes/com/qbe/cotizador/model/Modelo.class b/build/classes/com/qbe/cotizador/model/Modelo.class
index 3596722a05c78460ae95ba0b219ac16905714cea..22f3c731ea6dc7f3367b415d6b9aa62480596dce
GIT binary patch
literal 7501
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
XkHPX!y!>;pe4m#e1k1nh@~{5~*5=$B

diff --git a/build/classes/com/qbe/cotizador/servlets/producto/ganadero/ObjetoGanaderoController.class b/build/classes/com/qbe/cotizador/servlets/producto/ganadero/ObjetoGanaderoController.class
index 9a6d40ab473a9be24ab025e84dabc5283dc49fe1..bdbed1be640923bf1cad4a92b38f52d31aa28ae8
GIT binary patch
literal 45379
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

diff --git a/build/classes/com/qbe/cotizador/servlets/producto/pymes/ObjetoPymesController.class b/build/classes/com/qbe/cotizador/servlets/producto/pymes/ObjetoPymesController.class
index cccbd34c31309b142ccfd5c109670d7c19576e9f..a2ec8aa141b8ed5e7648848244afa33c40eb7a0c
GIT binary patch
literal 13733
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
J4vLD!{|lm3?Qj49

diff --git a/build/classes/com/qbe/cotizador/util/MotorTarifador.class b/build/classes/com/qbe/cotizador/util/MotorTarifador.class
index 1de5384e9e5ae6c902912f940c53d2068c63345e..8f13d0811b6868d536c0f20edf443c55cfbbf6c0
GIT binary patch
literal 11648
zc$~Fa3wT_`b^hn-u@CJ^+Fh;WtCwYCY+1Gt7$dO!LY8D(#+GDD7|hFAt=96|lCHeF
za=<AjPVJB<NnBbSAfXf*wUF>gh%h)0(gtuznv`c~nn24VKtgFA1PTP)f9Br3+Ff1Q
z#$T$>-@P+)XU?2CbN>IFvwrM@2fqj4Y|-R`CUAPx7;f6tA8U#lsra7AfRSh#OT~wp
zHW(=*(HBX?x5+UV@&!tFM0Q7-h9V<_P2K%FV$qa9;j;KhJheg~uYUe!f&4aOAm&9L
zJU$elP@rUed?eO2HryYhtp1^xKybYgjSOw3VA;0@^Hba7Nr8FmPfD4k0_Btu9UF=y
zdJ^&B$R?xT=rdB0A%PwB>nF8rH^wM_se{yE>N(WZI~E;FBqKvhJ3FVHvq3(MrSqqX
z^&)_f3&AYInBROTLs-DIJ2EsD>)s|1u5Wjc;6jDKs;N5<M2x1<gfTD{O&LwQW833A
zs?n56pPzaUM_QAy!LdYSAkyC2?L|2}@=@tS6{-b_`p1&dNTSaeFlg3by|uTp<@$Is
z#hq&fx<35QrZw7zBFXr+cr+4?8zY<IvE-nkw5Wl{g;@fP&VtRJT+`HM&?8dRU#+Wy
z$Bj93gH7Fisyo+*d8ijCGtbduB)Ve5Mk*E^iAN2Ab2BfwH<gHw4Dy1eyFq)erBcHN
z9~NLC{oWSsa2k%9ClyH5pU5>%V&mzR%Q2|AJrz9zXS&ejXv*U(^x-Tl5-1pqr8);_
zzWVu74ON82Xm;Tof#PhZ@ZnsXM<jExblA?!wI<%_HZ6{fk%m)-TY9ks%Y0Za^>I^V
zdn_rbA%K-WoR3!e=x8L7jG0J~`#D@`yA;yqLwj1t+DI}LkwRAcum)=>WI(OoEODkt
zNG)0C!v%6lP}*T+ARdj`3?Way!G|t%)7_HsJ?5%TY4D9cY(g)&g{vHVLZGSsI8HWo
z0dMg_T;u|IalwaJ=EKEO_kgW?Yto3uxyFS{1lD|b%(jlC;)7$cfylsS>!SkQ7D*Xf
zQ0c`L_=pQzX|73sXp0QRMg}4YA0p_dnUylM{YaDsE6?JS^wgzN(13IzN$7N+P8S9R
z8m2q?RJFX=hGkytz>o_&X@N<H=p0GK24mD_7$fuq<vARi#%(&Kpf>qf=R!gtG^uQB
zA`!VtI=dIUB<YL^%xUjvzp$-y)%uRDo4QwZZ|&>uYhAy!t-EV$duMM?cW-B3=jLwd
zHXrrjN?b*Mi3|+n>}<hf{v~dFY&wa(ommpyxLTkx<NNAO9c>qObhUN1Ze7*d+u_1B
z0*jn)TVX6t%QdCrXfKZx8#dW=ue{j3_=FFCiTw;tlN@Rc_a|Zu2(#;R<AFnf_+(aG
zGi~d|0es4bPb)m840EvX{4G#_UVL6!{5pZU6GdDvzKDY^d?`&rYL5+()OH{K3fI$r
zC^#kEsC|BW;mX&4EdTzM9-7Rg7^2=t$c$o2V5N3RYbT!e#POerN@OH%td8_2EG!C$
zPDwBE<fxI1r{cSb|H5G_Ce)oMBv7eTeAFPI2aSy6q%@fmxCPoBM19!szckk{@&+T^
zF85LeW(+%p4W&uXDQI%Mbb!10q8VYH{5j1I)8qvd;IRb=oOTj%maud@p!43xi@?19
zxPU*)tj-ClL+s<~y13%*?5mO?urD?|Y9ypLI89LjZgNUE;>6toPU-3?g#l_B$k=18
z<vDXr)ut}V^=PkzO=~nYCOdxFNv5ar`ZFa9ES%POQ}>}>GpFdVHphStGji-#Iwa3C
zV5Di1+*h>QYAZu7p2m>JV_51|Y|AABNvRdv60zu5Y=nV&RU{e9uuy37OU7t$AjXS|
zQ*Op!d2eiYOzqkgOJ&U-l~qm;JtT8>b|H1uXu6nMk^}o?C+V~+c(4^Gz1HE*q<}e7
z1Wbv~a+<$46^ZWL5E)fEyYM4{+T#P%1@ix_6H)*vE~_+b+ivU{i&-YyeoDpRDU^n8
zJT8mjwX&L7f+u}=N=D2wJEhCe%8h3Ps@v9fZ@jR>ITMg!^~u7OFM5}c-u5#u#n_=G
z>u`Fu3ub)_Pkzf9pOMV;xU5fQw$Eh^&&n>mV+@ZY$w+^END66-?~Zd${M2gjQ!2ri
z-~}IEl-8X$ne01gwc0j-T=TLIzmjX_9(RomN0~~#;Kpl2;-<FT>v7{ZBvFp{c5Lq0
z)Y;zJZr|Dq^6@gwZ{OIY8k^cOZ_?gM4o~H^EcWG$(j2<sP;Ca!INnN$eb?zFHTH<}
zilRx{Y0Je`dt}7ui6poiC*Jb^bKwp`Ph!Loj_(j-?X6wiTYFkJ@#3an%#HU1s<LL}
zUgtKv@52YuYiez;$*@AEgKcB%6GBd{ahjUpSD(lGUOa~P-J*bm(caqAO7|2pljcKs
zM3GAn@!^bW%NQDBsli++=@UNTXE`z)xsqj8W=cOfX{kdI&$MdT7)cqc<2x9nLkyMC
z*hng}gCTB&$xkZ5(Ta@G>=Y=6X0rTXMwW|ZeOh!}pLVpPz*#4|$hK$})nzH*fVK7>
z4%;ec&91TIbH?z7Nvq9s`rhMY$pt5vnQdLKJ)22InbXo-(#}4ljo7T=;{|04A~Gmf
zW+A*Ul2lSG;=jxZ<9{xI7Os5l%kuBW!j;#)wP439PY*K3B0I#B^x@V)nkpuJ(o{<(
zv@~$%@aPzAEPvoUeTw4FgtqP!&)}dj*<#A3^5@ocz47rso4HP1K__QuV}(Xl>1n;j
z7@cr+T&9en>>t?AkkT*<Bo|fKyV)v0A)hYxn)nuc7c|@t_q}Xr<SVGpKo~`Q`pgM@
z`}y{u7$xT7f-5*r=aMbOhf&&6a0KOB?#GOlLcMSTdW-7_YS^FI;y!{pHfFbYbWiZK
z37p>I)!ll&?w!E=mLk1q0*#MiZ(g%+9C6(h_C0{JH9UkRE&j~j1ePAg3b|2n_V6le
zxTIkM9eObzH{668)hXfQ&{t5Z`zO$8O)J>%6Jek3dI0MMZawy;afGA_Jrn3l&p3iD
z)c4XBpYEH$Wi5VnJU%YZpFp&^BwSKG&|DfWy%~jh&82zGfpJ`<`@;cCrEM+2%-#gH
zA4a@6ls#t1v9fS!ICLv2_$s@NS_UUDnm*(HfCvY4zoq4EN3e@3C0hb|AeedpyESeZ
z2=1|4e_^(cU@xbAoEil6zy$WSg!E8>wd;WiTubR?_{>hZLz!MCO;o_gPGz;73nuV6
zPS|PA_yS*soETQeFR!@~)p{sDTbTMX4qXrBIed_JP@<RfIY^;@oh!IPuaFvq`H(}o
zpJ(VZ?xDlwD~Eg#XYhF%9c~WY?{t)-9y2kY&jy@@1z3hgv~$indi2FO69z{=iADHZ
zoQ-dA{5xpI_i-+Milum#v!BOuyo?oi11s?+&c~n7Dm1JTrDzj#&@RqHhggl(qL<_S
z=oCA#PK@CKaSiX|)94Zh(JgMmM)7U*is!Idyo8IytGHNvfGwK9C0Yfp(9T6f+l;6L
zkyuXz5-7L<ha?Eu`Z8{mz+&qr+)UWX)>qidQ?0M!7M{FN>*Wa!5qu@uI^2rC<N3?A
zHr$5W3BZ|J3;rHoBckiIvoMZ-AUMy`>hX`bgEm{H)!<Hiox88W7;SJf<d4x8;x61x
zAR9dUJ(OHbE6u~bY?a_yu@B$Gw>a;4u?P2Y4?h#$6uzzIy+IpHP)Z5j6fxY-Rw<70
zbW(Ca+6{;C0D`n$6L0HgglNMm9AT@BE8pM^+|GFi@hHBF?{VHue14x}A=>bEI?f@^
zdk!DN57-LRo@4kYw#sS6+4yI+Drn0*{E)2~c$g+^pnXhRJVINT8b1oZwbxPZW$thk
zA^Z#H-;1JSbPvA^0T(ke;lg98S?<DO7iwInbK%D>oWVPJ5B=J^C@wjMg>uI6=ew{)
zjRcq^(v1qld+5=Q@d_$F#7gzvYxc~4l6^h+2_05(ZJwW3&p~miL}OQ)YV-AcNwo!O
zsx3@YtxI<W|4mY@TQ6LwyCu_-eHGJQo!9Ig$9BCS?6sM;D6==ow7%@&G}HPOx%y0|
ztyUes$+RVsN}n*Nb?x_xuvagzDD2=kf>MJ?qU}nPnpgJ*pUx&Qh6NcP_DK%Tb0#pq
z+O*MPuAezDS8;=)mS@%U5)};;(>bwCsa`tCHak$Mo(0%R&mZDd7^uZ4k+O^2l0XYm
zSVa$Ai{03ak75{CVn41TYWMKs$B2Wg>4SUmBkaRd_ynHg*H>@=zs0q}i_eIKbc-eU
zqPQ3bRfv6xJMe1L?7)`A4s1y#(CAj1@pFF7L$TPPm>{1hS*@6$0JUPdVuC`<6N?oS
zxNxRepqRjo7BNdPfd?JbTjJGAt@{)c6jAr(iV1wwajs$lKlQm*;nhp6Qwpy|)P1MI
ztB)txi2soDc#bCgLb3x-GaJ8@EW$J8@w|t~4icqx?3sE#LOo5nM=95oc9gqHY@UgN
zV>D)wiJ0ReGa`{$%(Fa?|1_bIZ}8l-pH`s)RlajFlGp4W$8Kg0ZrkZSnY~G;_ht{L
zoxVu<xz}|12GuDtoxVo8^?zB@@@3~GJJ)cFu-ncx_NNmIw?yP+Egq$+H=S4%g^QS2
z_`*JwSordq{W7ueg#C76QJmSc5{r`TF_l=9hJE1@nOOM3r82Rg)4!5F-G09a`*lxl
zVnH+oU$xQ+fAH7YXe`!?CD`^!5ILZ6DwL#k@>OQxweb1613m+KNxl=d?Fm7d5?MJ4
zW&F2;3??{oN?;mTGs~HT^+6^NplcQqUOtB1FriRQfXybv&SaonLttG&XkAHnJwR7K
z$ZxkQ5Zysw+{vK#b*lOey7FCQ=DX?6_uvJ7c?;hpD840T;68CW?j{5e6Oa#xHF!{L
z#COCc_^ycJA@M2vK-`NTiYM@}_#=*LWpsX-9LzzDbYD9;sIZfR3OhNdP(+Z&lpw$W
zcZetQX+`)Sl^ldM%}Nfc8GWqefV3l_?&it*71TXE-vtWl@;`SME2tOY4l%5Pz8m+7
zZ7S${aKHEn0V?M`BrZ}xzX*@;B=@T%;&ChJ`+0UV=oixhX3#I89n7F#N(=m4k%(WO
zUy(>Lt#F?rkrLYC3;3O+30h<ue$Q5bcIm($*b34*vzeA1LWnlX!yjdGU<ZBkj56q(
z8b1n;wbxPZW$tj4X^JG4KDdril*bCiX=bs=MG=a@V11sQ7Uaxu4DPhhTX@?fpTbIN
zG@JJ`o+cbdUP(CaG_YjR^S>6bJi&LffyKxt`C^}pchiJ9pI+pUbo<j(QY^uJSxbqc
zl2Y{yqzNS$4w6tp;gBMfP+oJ{I0p2RaG6ag;mn>zDCOB>icl)Tp>X-Fn8R1aZ6rMA
z?0>Q}DV3dLRwuB(OoYqy5{q5_MkNV~4v1f&N&GfWh&=gL=uGD=;dI_ou9t^IzD!&y
z^l+mr5azecP^Z%M87h6*m)Bf5jv?J0uC$rFDzi7q<ki{3X(l&o!)lYs>r|)4Wb%++
zH6aSEX?jD8e}AP2SL$x-IM>NqaYk0HsH-GI(T_Z#OP);EWlw&s)bpuZfyGUFWqQ0?
z1|>DtkRGZ@`%A4}t5;e6Qma?nt(tV}uy8+wK+8-ePM;~OD_LAgA$6*zQ+w4(!8v3&
zOP@7KhR@&}K7T@I{wZVi<1FN#V14x@>!_z$D?P)y=vi#Rzccgs1qtz&xP}q;0AucF
z3H$5uA_?jxQqIfFHGV~kcm<E)RmT0-@H&2tckmlg$l4){-->haJFx=4CmH^M6!IoB
znzuy+?}#|w6$aiDSL09Odb}_0#0TPG91~9nA)e;9mqfmJMHGm)g+~hupQa1H)+ma#
z^F^uFDFRxr2x^y$kTxj7+AdL{9S~L8?P8`P)US~!2uYhz$8AC#w+VIJB2>0Su_9F2
zDp7<gTcs*cc(ku7YIUJhyFpQ_8@hI#A~p}2wOxwXyjZDiSHxDt`maj_R6b>B=ZT=o
zr>@kR6v-Cj8rEl$WJ_>Bn=L{rPx`D@Ey^ST;(9Hl=r)KOHNT?U5c9fGMYm=A(xd1$
zOj|EgbX!h~*DJcM5a);l?JcXQ6|}9)2E$?viCkub<zgfAM;XW}#HFl7Wi~iNM8s-Q
z&K0^C;tk6^DtQ|ht6)*ZJ84zHqMA3;pn^q>7REtQ!B(ZF<2r`BL#Waku}A1~o_0P4
zMWve8i7P}EPgzU*G>dAE&D0KHwy0sNPP-j>qL!^$iqaR;-llCIv2A;lwlyt!lomB@
z_9$y$C6{+xtH}Kpc#iRE%BE7c&E7dx)fT%w$>*1o|6`~+H6iMqS<wYlOo^%Tk#VU`
z%(8xH`y3BP$HF3sc;+%4(K0c6p@r5#!%Q9X(|J>wn6q=x8oS5-RjydNE7STanRtsv
zRXQv-rK-XhswI<e`HS5mF_$e(joqb6hbmtGJmu;hQ7`6Onq5iF==`Wx)smRKAXBNX
zMytk3Yt+@4tIv6Kv?Z7;T9iHwrYse+<zKzhLa4F3ls;jW{PUDP9?`(lm|EOPE#!N-
zZ69fzXrpB*(<-*9R94?%vS`{=9LrU0E!FB|{j*M~w$|LhHq~<5RLhmR(p1Z7+C%D>
Z(&b9=eD(D%#R_vR^A$qS_}odH@qhhvWF!Cp

diff --git a/src/com/qbe/cotizador/dao/producto/agricola/AgriParametroXCanalDAO.java b/src/com/qbe/cotizador/dao/producto/agricola/AgriParametroXCanalDAO.java
--- a/src/com/qbe/cotizador/dao/producto/agricola/AgriParametroXCanalDAO.java
+++ b/src/com/qbe/cotizador/dao/producto/agricola/AgriParametroXCanalDAO.java
@@ -51,6 +51,12 @@
 		return agriParametroXCanal;
 	}
 	
+	public List<AgriParametroXCanal> ObtenerPorPuntoVenta(BigInteger puntoVentaId)
+	{
+		AgriParametroXCanal agriParametroXCanal = new AgriParametroXCanal();
+		List<AgriParametroXCanal> result = getEntityManager().createNamedQuery("AgriParametroXCanal.buscarPorPuntoVenta").setParameter("puntoVentaId", puntoVentaId).getResultList();
+		return result;
+	}
 	
 	public  List<AgriParametroXCanal>BuscarTodos()
 	{
diff --git a/src/com/qbe/cotizador/dao/producto/agricola/AgriReglaDAO.java b/src/com/qbe/cotizador/dao/producto/agricola/AgriReglaDAO.java
--- a/src/com/qbe/cotizador/dao/producto/agricola/AgriReglaDAO.java
+++ b/src/com/qbe/cotizador/dao/producto/agricola/AgriReglaDAO.java
@@ -41,7 +41,7 @@
 	}
 	public AgriRegla BuscarPorId (BigInteger ReglaId){
 		AgriRegla agriRegla = new AgriRegla();
-		List<AgriRegla> result = getEntityManager().createNamedQuery("AgriRegla.obtenerPorId").setParameter("reglaId", ReglaId).getResultList();
+		List<AgriRegla> result = getEntityManager().createNamedQuery("AgriRegla.obtenerPorId").setParameter("reglaId", ReglaId).setParameter("estado", 1).getResultList();
 		if (result.size()>0)
 			agriRegla = result.get(0);
 		return agriRegla;
@@ -51,7 +51,8 @@
 	}
 	
 	public List<AgriRegla> BuscarPorParametros(BigInteger provinciaId, BigInteger cantonId, BigInteger tipoCultivoId){
-		return getEntityManager().createNamedQuery("AgriRegla.obtenerPorParametros").setParameter("estado", 1)
+		return getEntityManager().createNamedQuery("AgriRegla.obtenerPorParametros")
+				.setParameter("estado", 1)
 				.setParameter("provinciaId", provinciaId)
 				.setParameter("cantonId", cantonId)
 				.setParameter("tipoCultivoId", tipoCultivoId).getResultList();
@@ -71,7 +72,7 @@
 			AgriTipoCalculo tipoCalculo = calculoDAO.BuscarPorNombre(TipoCalculoNombre);
 			BigInteger tipoCalculoId = tipoCalculo.getTipoCalculoId();
 			TypedQuery<AgriRegla>query = null;
-			String stringQuery= "SELECT c FROM AgriRegla c where (c.tipoCalculoId =:tipoCalculoId)";					
+			String stringQuery= "SELECT c FROM AgriRegla c where (c.tipoCalculoId =:tipoCalculoId) and c.estado =:estado";					
 			query = getEntityManager().createQuery(stringQuery, AgriRegla.class);
 			query.setParameter("tipoCalculoId",tipoCalculoId).setParameter("estado", 1);
 			results = query.getResultList();
diff --git a/src/com/qbe/cotizador/model/AgriParametroXCanal.java b/src/com/qbe/cotizador/model/AgriParametroXCanal.java
--- a/src/com/qbe/cotizador/model/AgriParametroXCanal.java
+++ b/src/com/qbe/cotizador/model/AgriParametroXCanal.java
@@ -17,6 +17,7 @@
 @NamedQueries({
 	@NamedQuery(name="AgriParametroXCanal.findAll", query="SELECT a FROM AgriParametroXCanal a ORDER BY a.puntoVentaId, a.tipoCultivoId"),
 	@NamedQuery(name="AgriParametroXCanal.buscarPorId", query="SELECT a FROM AgriParametroXCanal a where a.parametroCanalId=:parametroCanalId"),
+	@NamedQuery(name="AgriParametroXCanal.buscarPorPuntoVenta", query="SELECT a FROM AgriParametroXCanal a where a.puntoVentaId=:puntoVentaId"),
 	@NamedQuery(name="AgriParametroXCanal.obtenerPorCanalTipoCultivo", query="SELECT a FROM AgriParametroXCanal a where a.puntoVentaId=:canalId and a.tipoCultivoId=:tipoCultivoId")
 })
 public class AgriParametroXCanal implements Serializable {
diff --git a/src/com/qbe/cotizador/servicios/QBE/archivoPlano/GeneradorReporte.java b/src/com/qbe/cotizador/servicios/QBE/archivoPlano/GeneradorReporte.java
--- a/src/com/qbe/cotizador/servicios/QBE/archivoPlano/GeneradorReporte.java
+++ b/src/com/qbe/cotizador/servicios/QBE/archivoPlano/GeneradorReporte.java
@@ -319,9 +319,12 @@
 			if(cotizacion.getPuntoVenta().getNombre().equals("AGRIPAC")){
 				parametersHeader.put("Endoso", "AGRIPAC S.A");
 			}else{
-				parametersHeader.put("Endoso", "BANCO PICHINCHA C.A");
-			}
-			
+				if(cotizacion.getPuntoVenta().getNombre().equals("ECUAQUIMICA")){
+					parametersHeader.put("Endoso", "ECUAQUIMICA ECUATORIANA DE PRODUCTOS QUIMICOS C.A.");
+				}else{
+					parametersHeader.put("Endoso", "BANCO PICHINCHA C.A");
+				}								
+			}			
 		}
 		parametersHeader.put("FechaEmision", Fecha.format(fechaActual.getTime()));
 		
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriAgriPacController.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriAgriPacController.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriAgriPacController.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriAgriPacController.java
@@ -406,7 +406,7 @@
 						direccion=direccionDAO.buscarCobroPorEntidadId(entidad).get(0);
 					
 					//hallamos la provincia en base al codigo que llega
-					String nombreProvincia =nuevaCotizacion.getProvinciaNombre().trim();
+					String nombreProvincia =nuevaCotizacion.getProvinciaNombre().replace("_", " ").trim();
 										
 					provincia = laProvincia.buscarPorNombre(nombreProvincia);
 					
@@ -415,7 +415,7 @@
 								+ nombreProvincia + "  no encontrada");
 					
 					//hallamos el canton en base al codigo que llega
-					String nombreCanton = nuevaCotizacion.getCantonNombre().trim();
+					String nombreCanton = nuevaCotizacion.getCantonNombre().replace("_", " ").trim();
 					canton = elCanton.buscarPorCantonProvincia(nombreCanton,provincia);
 					
 					if (canton.getId() == null)
@@ -423,7 +423,7 @@
 								+ nombreCanton + " no encontrado");
 					
 					//Proceso de busqueda de parroquias
-					String nombreParroquia=nuevaCotizacion.getParroquiaNombre().trim();
+					String nombreParroquia=nuevaCotizacion.getParroquiaNombre().replace("_", " ").trim();
 					parroquia= laParroquia.BuscarPorCanton(canton.getId());
 					String parroquiaId="";
 					for(AgriParroquia p :parroquia){
@@ -492,7 +492,6 @@
 						throw new Exception("Error Producto por Punto de Venta no configurado");
 					cotizacion.setProductoXPuntoVentaId(new BigInteger(pxpv.getId()));
 					cotizacion.setVigenciaPoliza(vpDAO.buscarPorId("1"));
-					cotizacion.setAgenteId(new BigInteger("1"));// VERIFICAR
 					cotizacion.setGrupoProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getGrupoProducto().getId())));
 					cotizacion.setGrupoPorProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getId())));
 					cotizacion.setProducto(grupoPorProducto.getProducto());
@@ -593,6 +592,9 @@
 					valorTotaL=Double.parseDouble(""+roundOffT);
 					
 					String variableControl=auditoria.getObjeto();//variable de control
+					if(valorTotaL!=nuevaCotizacion.getMontoAsegurado())
+						observacion=observacion+"sumas aseguradas diferentes: Suma QBE:"+valorTotaL+" Suma Archivo: "+nuevaCotizacion.getMontoAsegurado();
+					
 					
 					double valorPrima=valorTotaL * tasa /100;
 					
@@ -654,7 +656,7 @@
 			        		}
 			        		 	
 			        		if(variable.getNombre().equals("AGENTE_AGRIPAC")){
-			        			cotizacion.setAgenteId(new BigInteger(variable.getValor()));//AGENTE AL QUE SE ATA
+			        			cotizacion.setAgenteId(new BigInteger(variable.getValor()));//AGENTE AL QUE SE ATA id cotizador
 			        			
 			        		}
 			        		else if(variable.getNombre().equals("SUBTOTAL")){
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionAprobacionController.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionAprobacionController.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionAprobacionController.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionAprobacionController.java
@@ -1376,6 +1376,5 @@
 	}
 
 	public JSONArray procesarEmision(List<Cotizacion> listado,Usuario usuario) {
-		//List<JSONArray> list = new ArrayList<JSONArray>();
 		JSONObject detalleProceso = new JSONObject();
 		JSONArray detalleProcesoList = new JSONArray();
@@ -1380,6 +1379,4 @@
 		JSONObject detalleProceso = new JSONObject();
 		JSONArray detalleProcesoList = new JSONArray();
-		//JSONArray detalleProcesoFile = new JSONArray();
-		String mensaje = "";
-		String estado="";
+		String mensaje = "";	String estado="";
 		String cadenaArchivo = "";
@@ -1385,3 +1382,2 @@
 		String cadenaArchivo = "";
-		//Ruta para grabar archivo 
 		Date fecha = new Date();
@@ -1387,6 +1383,4 @@
 		Date fecha = new Date();
-		//String rutaFile = this.getServletContext().getRealPath("")+ "/static/CotizacionesAprobarMasivo/";
-		//File folder = new File(rutaFile);
 		SimpleDateFormat sm = new SimpleDateFormat("dd/MM/yyyy");
 		DateFormat fHora = new SimpleDateFormat("HH:mm:ss");
 		String nombreArchivo="ArchivoIDsFacturas_"+sm.format(fecha).replace("/", "")+
@@ -1394,7 +1388,6 @@
 		
 		try {
 			for (Cotizacion nuevaCotizacion : listado) {
-				//CotizacionTransaction cotizacionTransaction = new CotizacionTransaction();
 				Cotizacion cotizacionC = new Cotizacion();
 				CotizacionDAO cotizacionCDAO = new CotizacionDAO();
 				mensaje = "";
@@ -1406,8 +1399,6 @@
 						Estado estadoPendiente = estadoDAO.buscarPorNombre("Emitido", "Cotizacion");
 						CotizacionAprobacionDAO cDAO = new CotizacionAprobacionDAO();
 						AgriCotizacionAprobacion cotAct = cDAO.buscarPorId(cotizacionC.getId());
-						//AgriObjetoCotizacionDAO ojtCotiDAO = new AgriObjetoCotizacionDAO();
-						//AgriObjetoCotizacion objCoti = ojtCotiDAO.buscarPorId(cotAct.getObjetoCotizacionId());
 						if (cotAct.getEstadoId().equals(estadoPendiente.getId()))
 							mensaje = mensaje + " la cotización ya fue emitida anteriormente,";
 						estadoPendiente = estadoDAO.buscarPorNombre("Pendiente de Emitir", "Cotizacion");
@@ -1427,11 +1418,9 @@
 						if ((enty.getTelefono()==null || enty.getTelefono().equals("")))
 							if (enty.getCelular()==null || enty.getCelular().equals(""))
 								mensaje = mensaje + " la cotizacion no tiene  teléfono o celular,";					
-						//AgriCotizacionAprobacion cotAct = cDAO.buscarPorId(cotizacionC.getId());
-						
 						if (mensaje.equals("")) {
 							// TODO:LLamar al metodo para emision
 							AgriResultadoEmision resultado = AgriEmisionPoliza.emitirPoliza(cotizacionC.getId());
 
 							if (resultado.isEmitidoCorrectamente()) {
 								cotizacionC = cotizacionCDAO.buscarPorId(cotizacionC.getId());
@@ -1432,16 +1421,8 @@
 						if (mensaje.equals("")) {
 							// TODO:LLamar al metodo para emision
 							AgriResultadoEmision resultado = AgriEmisionPoliza.emitirPoliza(cotizacionC.getId());
 
 							if (resultado.isEmitidoCorrectamente()) {
 								cotizacionC = cotizacionCDAO.buscarPorId(cotizacionC.getId());
-								// Cambiar estados
-								// EstadoDAO estadoDAO = new EstadoDAO();
-								// cotizacionC.setEstado(estadoDAO.buscarPorNombre("Emitido","Cotizacion"));
-								// cotizacionC.setNumeroFactura(resultado);
-								// Actualiza estado tabla cotizacion
-								// cotizacionC =
-								// cotizacionTransaction.editar(cotizacionC);
-								// /TODO Generar cadena para el archivo
 								String row = cotizacionC.getNumeroFactura()+ " , " + cotizacionC.getTotalFactura()+ "\r\n";
 								cadenaArchivo = cadenaArchivo + row;
@@ -1446,6 +1427,5 @@
 								String row = cotizacionC.getNumeroFactura()+ " , " + cotizacionC.getTotalFactura()+ "\r\n";
 								cadenaArchivo = cadenaArchivo + row;
-								
 								//registro el detalle de la cotizacion
 								AgriCotizacionDetalleProcesos agriCotizacionDetalleProcesos = new AgriCotizacionDetalleProcesos();
 								agriCotizacionDetalleProcesos.creardetalleCotizacion(cotizacionC,"Aprobacion");
@@ -1449,8 +1429,6 @@
 								//registro el detalle de la cotizacion
 								AgriCotizacionDetalleProcesos agriCotizacionDetalleProcesos = new AgriCotizacionDetalleProcesos();
 								agriCotizacionDetalleProcesos.creardetalleCotizacion(cotizacionC,"Aprobacion");
-								
-								
 								mensaje = "La cotización ha sido emitida correctamente. ";
 								estado="OK";
 							} else {
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionReporte.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionReporte.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionReporte.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriCotizacionReporte.java
@@ -386,9 +386,12 @@
 			if(cotizacion.getPuntoVenta().getNombre().equals("AGRIPAC")){
 				parametersHeader.put("Endoso", "AGRIPAC S.A");
 			}else{
-				parametersHeader.put("Endoso", "BANCO PICHINCHA C.A");
-			}
-			
+				if(cotizacion.getPuntoVenta().getNombre().equals("ECUAQUIMICA")){
+					parametersHeader.put("Endoso", "ECUAQUIMICA ECUATORIANA DE PRODUCTOS QUIMICOS C.A. ");
+				}else{
+					parametersHeader.put("Endoso", "BANCO PICHINCHA C.A");
+				}
+			}			
 		}
 		parametersHeader.put("FechaEmision", Fecha.format(fechaActual.getTime()));
 		parametersHeader.put("CultivoDias", ""+VigenciaCoberura);
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriEmisionPoliza.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriEmisionPoliza.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriEmisionPoliza.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriEmisionPoliza.java
@@ -76,4 +76,5 @@
 
 public class AgriEmisionPoliza {
 	public static AgriResultadoEmision emitirPoliza(String cotizacionId) throws Exception{
+		//Obtengo la cotizacion
 		CotizacionDAO cotizacionDAO=new CotizacionDAO(); 
@@ -79,2 +80,16 @@
 		CotizacionDAO cotizacionDAO=new CotizacionDAO(); 
+		ClienteDAO clienteDAO = new ClienteDAO();
+		AgriObjetoCotizacionDAO objCotDAO = new AgriObjetoCotizacionDAO();
+		AgriObjetoCotizacion objetoCot = new AgriObjetoCotizacion();
+		CantonDAO cantDAO = new CantonDAO();
+		CiudadDAO ciuDAO = new CiudadDAO();
+		TipoDireccionDAO tipoDirecDAO = new TipoDireccionDAO();
+		ZonaDAO zonaDAO = new ZonaDAO();
+		DireccionTransaction direcTransaccion = new DireccionTransaction();
+		Direccion nuevaDireccion = new Direccion();
+		Date fechaActual = new Date();
+		CotizacionDetalleDAO cotizacionDetalleDAO = new CotizacionDetalleDAO();
+		CotizacionDetalle cotizacionDetalle= new CotizacionDetalle();
+		AgriObjetoCotizacionDAO agriObjetoCotizacionDAO= new AgriObjetoCotizacionDAO();
+		
 		Cotizacion cotizacion=cotizacionDAO.buscarPorId(cotizacionId);
@@ -80,5 +95,3 @@
 		Cotizacion cotizacion=cotizacionDAO.buscarPorId(cotizacionId);
-
-		// Actualizar las direcciones de la entidad cliente
-		ClienteDAO clienteDAO = new ClienteDAO();
+		/**CREACION O ACTUALIZACION DE LA COTIZACION**/
 		Cliente cliente = clienteDAO.buscarPorId(cotizacion.getClienteId().toString());
@@ -84,4 +97,24 @@
 		Cliente cliente = clienteDAO.buscarPorId(cotizacion.getClienteId().toString());
-
-		int Contadordirecciones=cotizacion.getAsegurado().getDireccions().size() ;
+		List<CotizacionDetalle> detalle = cotizacion.getCotizacionDetalles();
+		objetoCot = objCotDAO.buscarPorId(new BigInteger(detalle.get(0).getObjetoId()));
+		Canton canton = cantDAO.buscarPorId(objetoCot.getCantonId().toString());
+		Ciudad ciu = ciuDAO.buscarPorNombre(canton.getNombre());
+		if (ciu==null)
+			ciu = ciuDAO.buscarPorId(canton.getProvincia().getCapitalId());
+		TipoDireccion tipoDirec = tipoDirecDAO.buscarPorId("3");// Por defecto Tipo de direccion (cobro)
+		Zona zona = zonaDAO.buscarPorId("2");// Por defecto zona rural ya que es agricola
+		nuevaDireccion.setCiudad(ciu);
+		nuevaDireccion.setEntidad(cliente.getEntidad());
+		nuevaDireccion.setTipoDireccion(tipoDirec);
+		nuevaDireccion.setZona(zona);
+		nuevaDireccion.setCallePrincipal(objetoCot.getDireccionSiembra());
+		nuevaDireccion.setNumero("S/N");
+		nuevaDireccion.setEsCobro(true);
+		nuevaDireccion.setCalleSecundaria(objetoCot.getDireccionSiembra());
+		int Contadordirecciones=cotizacion.getAsegurado().getDireccions().size();//a veces no se guardan bien las direcciones se verifica		
+		if (Contadordirecciones==0 )//Si no tiene Direccion //Tomamos la direccion del cliente como la direccion del cultivo, los canales no envian esa informacion
+			nuevaDireccion = direcTransaccion.crear(nuevaDireccion);//creo la direccion		
+		else
+			nuevaDireccion = direcTransaccion.editar(nuevaDireccion);//actualizo la Cotizacion
+		/***FIN DE PROCESO DE DIRECCION DEL CLIENTE***/
 		
@@ -87,75 +120,7 @@
 		
-		if (Contadordirecciones==0 ) {
-			AgriObjetoCotizacionDAO objCotDAO = new AgriObjetoCotizacionDAO();
-			AgriObjetoCotizacion objetoCot = new AgriObjetoCotizacion();
-			// if (!cotizacionId.equals(""))
-			List<CotizacionDetalle> detalle = cotizacion.getCotizacionDetalles();
-			objetoCot = objCotDAO.buscarPorId(new BigInteger(detalle.get(0).getObjetoId()));
-			CantonDAO cantDAO = new CantonDAO();
-			Canton canton = cantDAO.buscarPorId(objetoCot.getCantonId().toString());
-			CiudadDAO ciuDAO = new CiudadDAO();
-			Ciudad ciu = ciuDAO.buscarPorNombre(canton.getNombre());
-			if (ciu==null){
-				//ProvinciaDAO provDAO = new ProvinciaDAO();
-				//Provincia prov = provDAO.buscarPorId(canton.getProvincia().getId());
-				ciu = ciuDAO.buscarPorId(canton.getProvincia().getCapitalId());
-			}
-			TipoDireccionDAO tipoDirecDAO = new TipoDireccionDAO();
-			ZonaDAO zonaDAO = new ZonaDAO();
-			// Por defecto Tipo de direccion (cobro)
-			TipoDireccion tipoDirec = tipoDirecDAO.buscarPorId("3");
-			// Por defecto zona rural
-			Zona zona = zonaDAO.buscarPorId("2");
-			DireccionTransaction direcTransaccion = new DireccionTransaction();
-			Direccion nuevaDireccion = new Direccion();
-			nuevaDireccion.setCiudad(ciu);
-			nuevaDireccion.setEntidad(cliente.getEntidad());
-			nuevaDireccion.setTipoDireccion(tipoDirec);
-			nuevaDireccion.setZona(zona);
-			nuevaDireccion.setCallePrincipal(objetoCot.getDireccionSiembra());
-			nuevaDireccion.setNumero("S/N");
-			nuevaDireccion.setEsCobro(true);
-			nuevaDireccion.setCalleSecundaria(objetoCot.getDireccionSiembra());
-			nuevaDireccion = direcTransaccion.crear(nuevaDireccion);
-			// }
-		}
-		else{
-			AgriObjetoCotizacionDAO objCotDAO = new AgriObjetoCotizacionDAO();
-			AgriObjetoCotizacion objetoCot = new AgriObjetoCotizacion();
-			// if (!cotizacionId.equals(""))
-			List<CotizacionDetalle> detalle = cotizacion.getCotizacionDetalles();
-			objetoCot = objCotDAO.buscarPorId(new BigInteger(detalle.get(0).getObjetoId()));
-			CantonDAO cantDAO = new CantonDAO();
-			Canton canton = cantDAO.buscarPorId(objetoCot.getCantonId().toString());
-			CiudadDAO ciuDAO = new CiudadDAO();
-			Ciudad ciu = ciuDAO.buscarPorNombre(canton.getNombre());
-			if (ciu==null){
-				//ProvinciaDAO provDAO = new ProvinciaDAO();
-				//Provincia prov = provDAO.buscarPorId(canton.getProvincia().getId());
-				ciu = ciuDAO.buscarPorId(canton.getProvincia().getCapitalId());
-			}
-			TipoDireccionDAO tipoDirecDAO = new TipoDireccionDAO();
-			ZonaDAO zonaDAO = new ZonaDAO();
-			// Por defecto Tipo de direccion (cobro)
-			TipoDireccion tipoDirec = tipoDirecDAO.buscarPorId("3");
-			// Por defecto zona rural
-			Zona zona = zonaDAO.buscarPorId("2");
-			DireccionTransaction direcTransaccion = new DireccionTransaction();
-			Direccion nuevaDireccion = new Direccion();
-			nuevaDireccion.setCiudad(ciu);
-			nuevaDireccion.setEntidad(cliente.getEntidad());
-			nuevaDireccion.setTipoDireccion(tipoDirec);
-			nuevaDireccion.setZona(zona);
-			nuevaDireccion.setCallePrincipal(objetoCot.getDireccionSiembra());
-			nuevaDireccion.setNumero("S/N");
-			nuevaDireccion.setEsCobro(true);
-			nuevaDireccion.setCalleSecundaria(objetoCot.getDireccionSiembra());
-			nuevaDireccion = direcTransaccion.editar(nuevaDireccion);
-		}
-		
-		//Creo la entidad en ensurance y actualizo el id en la entidad del cotizador
+		/***PROCESO DE CREACION DE LA ENTIDAD EN ENSURANCE***/
 		String resultadoCrearEntidad=crearActualizarEntidad(cotizacion.getAsegurado());
 		if(!resultadoCrearEntidad.equals("")){
 			Entidad entidad=cotizacion.getAsegurado();
 			entidad.setEntEnsurance(resultadoCrearEntidad);
 			EntidadTransaction entidadTrans=new EntidadTransaction();
@@ -157,7 +122,7 @@
 		String resultadoCrearEntidad=crearActualizarEntidad(cotizacion.getAsegurado());
 		if(!resultadoCrearEntidad.equals("")){
 			Entidad entidad=cotizacion.getAsegurado();
 			entidad.setEntEnsurance(resultadoCrearEntidad);
 			EntidadTransaction entidadTrans=new EntidadTransaction();
-			entidadTrans.editar(entidad);
+			entidadTrans.editar(entidad);//Creo la entidad en ensurance y actualizo el id en la entidad del cotizador
 		}
@@ -163,2 +128,3 @@
 		}
+		/**FIN DE CREACION ENSURANCE**/
 		
@@ -164,7 +130,7 @@
 		
-			
-		AgriResultadoEmision nuevoResultado=new AgriResultadoEmision();
+		/****TODO: PROCESO DE EMISION INTEGRACION ENSURANCE***/
+		AgriResultadoEmision nuevoResultado=new AgriResultadoEmision();//Objeto que se llenara de lo que venga de ensurance
 		if(cotizacion.getId()!=null){
 			AgriSucreAuditoria agriSucreAuditoria = new AgriSucreAuditoria();
 			agriSucreAuditoria.setCanal("EMISION");
 			agriSucreAuditoria.setTramite(cotizacion.getNumeroTramite());
@@ -167,11 +133,10 @@
 		if(cotizacion.getId()!=null){
 			AgriSucreAuditoria agriSucreAuditoria = new AgriSucreAuditoria();
 			agriSucreAuditoria.setCanal("EMISION");
 			agriSucreAuditoria.setTramite(cotizacion.getNumeroTramite());
-			Date fechaActual = new Date();
 			agriSucreAuditoria.setFecha(fechaActual);
 			agriSucreAuditoria.setEstado("Correcto");
 			//Ensamblo el xml para el envió a generrar la póliza
 			nuevoResultado=generarXML(cotizacion);
 			if(nuevoResultado.isGeneradoXMLCorrectamente())
 			{
@@ -172,10 +137,7 @@
 			agriSucreAuditoria.setFecha(fechaActual);
 			agriSucreAuditoria.setEstado("Correcto");
 			//Ensamblo el xml para el envió a generrar la póliza
 			nuevoResultado=generarXML(cotizacion);
 			if(nuevoResultado.isGeneradoXMLCorrectamente())
 			{
-				
-				
-				
 				try{
@@ -181,4 +143,4 @@
 				try{
-										
+					/***LLAMADA AL WS DE EMISION***/
 					WSEmisionAgricolaProxy emisionAgricola=new WSEmisionAgricolaProxy();
 					String resultado=emisionAgricola.emisionPoliza(nuevoResultado.getXmlEmision(), "f2rtiUdv2kjOgaCx");
@@ -183,5 +145,4 @@
 					WSEmisionAgricolaProxy emisionAgricola=new WSEmisionAgricolaProxy();
 					String resultado=emisionAgricola.emisionPoliza(nuevoResultado.getXmlEmision(), "f2rtiUdv2kjOgaCx");
-					
 					agriSucreAuditoria.setObjeto(resultado);
 					AgriSucreAuditoriaTransaction agriSucreAuditoriaTransaction= new AgriSucreAuditoriaTransaction();
@@ -186,5 +147,4 @@
 					agriSucreAuditoria.setObjeto(resultado);
 					AgriSucreAuditoriaTransaction agriSucreAuditoriaTransaction= new AgriSucreAuditoriaTransaction();
-					agriSucreAuditoriaTransaction.crear(agriSucreAuditoria);
-					
+					agriSucreAuditoriaTransaction.crear(agriSucreAuditoria);//AUDITORIA INTERNA
 					if(!resultado.equals("")){
@@ -190,6 +150,5 @@
 					if(!resultado.equals("")){
-						if (!resultado.contains("ERROR")&& !resultado.contains("Exception") ){
-							
+						if (!resultado.contains("ERROR")&& !resultado.contains("Exception") ){							
 							try{
 								CotizacionTransaction cotizacionTransaction = new CotizacionTransaction();
 								//formato esperado 11014757286001|001-003-003708513::2016-07-28 16:33:52.0
@@ -193,7 +152,6 @@
 							try{
 								CotizacionTransaction cotizacionTransaction = new CotizacionTransaction();
 								//formato esperado 11014757286001|001-003-003708513::2016-07-28 16:33:52.0
-	
 								String[] ids=resultado.split(" ");//separamos las fechas
 								if(ids.length!=0){
 									String[] ids2=ids[0].split("::");
@@ -202,9 +160,8 @@
 										CotizacionRespuesta cotizacionRes = new CotizacionRespuesta();
 										CotizacionRespuestaTransaction cotiResTransaction = new CotizacionRespuestaTransaction();
 										EstadoDAO estadoDAO = new EstadoDAO();
-										
 										//si ensurance me devuelve el caracter ya esta emitida
 										//formato correcto
 										//11009488060525|001-003-003698285::2016-07-21 09:43:02.0
 										//formato de ya emitida
 										//1 |001-003-003698285::2016-07-21 09:43:02.0
@@ -206,8 +163,7 @@
 										//si ensurance me devuelve el caracter ya esta emitida
 										//formato correcto
 										//11009488060525|001-003-003698285::2016-07-21 09:43:02.0
 										//formato de ya emitida
 										//1 |001-003-003698285::2016-07-21 09:43:02.0
-	
 										if(factura[0].trim().equals("EXISTE"))
 											throw new Exception("EXISTE Poliza  emitida Anteriormente");
@@ -212,7 +168,6 @@
 										if(factura[0].trim().equals("EXISTE"))
 											throw new Exception("EXISTE Poliza  emitida Anteriormente");
-										
 										Estado estado = estadoDAO.buscarPorNombre("Emitido", "Cotizacion");
 										if (!cotizacion.getEstado().getNombre().equals(estado.getId())){
 											System.out.println("factura[0] :"+factura[0].trim()+ " factura[1] :"+factura[1].trim());
 											cotizacion.setNumeroFactura(factura[1].trim());
@@ -215,6 +170,5 @@
 										Estado estado = estadoDAO.buscarPorNombre("Emitido", "Cotizacion");
 										if (!cotizacion.getEstado().getNombre().equals(estado.getId())){
 											System.out.println("factura[0] :"+factura[0].trim()+ " factura[1] :"+factura[1].trim());
 											cotizacion.setNumeroFactura(factura[1].trim());
-											nuevoResultado.setFactura(factura[1].trim());
 											cotizacion.setEstado(estado);
@@ -220,5 +174,4 @@
 											cotizacion.setEstado(estado);
-											///TODO:tualiza estado tabla cotizacion
-											cotizacion = cotizacionTransaction.editar(cotizacion);
+											cotizacion = cotizacionTransaction.editar(cotizacion);///TODO:tualiza estado tabla cotizacion
 											
 											//guardamos los otros datos de la factura
@@ -223,6 +176,3 @@
 											
 											//guardamos los otros datos de la factura
-											CotizacionDetalleDAO cotizacionDetalleDAO = new CotizacionDetalleDAO();
-											CotizacionDetalle cotizacionDetalle= new CotizacionDetalle();
-											
 											cotizacionDetalle=cotizacionDetalleDAO.buscarCotizacionDetallePorCotizacion(cotizacion).get(0);
@@ -228,4 +178,2 @@
 											cotizacionDetalle=cotizacionDetalleDAO.buscarCotizacionDetallePorCotizacion(cotizacion).get(0);
-											
-											AgriObjetoCotizacionDAO agriObjetoCotizacionDAO= new AgriObjetoCotizacionDAO();
 											AgriObjetoCotizacion agriObjetoCotizacion = agriObjetoCotizacionDAO.buscarPorId(new BigInteger(cotizacionDetalle.getObjetoId()));
@@ -231,5 +179,4 @@
 											AgriObjetoCotizacion agriObjetoCotizacion = agriObjetoCotizacionDAO.buscarPorId(new BigInteger(cotizacionDetalle.getObjetoId()));
-											
 											agriObjetoCotizacion.setPolizaNumero("ID:"+factura[0].trim()+ " factura N.-:"+factura[1].trim());
 											try{
 												String fechaEnsurance=ids2[1].trim();
@@ -238,7 +185,6 @@
 												agriObjetoCotizacion.setPolizaFechaVencimiento(date);
 											}catch(Exception e){
 												System.out.println("no se pudo guardar la fecha de ensurance");
-											}
-											
+											}											
 											AgriObjetoCotizacionTransaction agriObjetoCotizacionTransaction = new AgriObjetoCotizacionTransaction();
 											agriObjetoCotizacionTransaction.editar(agriObjetoCotizacion);
@@ -243,7 +189,6 @@
 											AgriObjetoCotizacionTransaction agriObjetoCotizacionTransaction = new AgriObjetoCotizacionTransaction();
 											agriObjetoCotizacionTransaction.editar(agriObjetoCotizacion);
-											
-											
+																						
 											/**PROCESO DE CREACION DEL DETALLE DE LA COTIZACION ENDOSO***/
 											AgriCotizacionDetalleProcesos agriCotizacionDetalleProcesos = new AgriCotizacionDetalleProcesos();
 											agriCotizacionDetalleProcesos.creardetalleCotizacion(cotizacion, "Emision");
@@ -255,6 +200,7 @@
 											cotizacionRes.setFacturaNumero(cotizacion.getNumeroFactura());
 											cotizacionRes.setFechaEmision(ids2[1].trim());
 											cotizacionRes = cotiResTransaction.crear(cotizacionRes);
+											nuevoResultado.setFactura(factura[1].trim());											
 											nuevoResultado.setEmitidoCorrectamente(true);
 											return nuevoResultado;
 										}
@@ -272,7 +218,7 @@
 								return nuevoResultado;
 							}
 						}
-						else {
+						else {//SI HAY UN MENSAJE DE ENSURANCE
 							if (resultado.contains("EXISTE")){
 								nuevoResultado.setEmitidoCorrectamente(false);
 								nuevoResultado.setMensaje("Cotizacion Emitida Anteriormente");
@@ -285,7 +231,6 @@
 							}
 						}
 					}
-					else{
-						
+					else{//SI ENSURANCE NO DEVUELVE NADA						
 							nuevoResultado.setEmitidoCorrectamente(false);
 							nuevoResultado.setMensaje("Error en el proceso de emisión de Ensurance");
@@ -290,7 +235,5 @@
 							nuevoResultado.setEmitidoCorrectamente(false);
 							nuevoResultado.setMensaje("Error en el proceso de emisión de Ensurance");
-							return nuevoResultado;
-						
-					}
-						
+							return nuevoResultado;						
+					}						
 				}
@@ -296,6 +239,5 @@
 				}
-				catch(Exception ex){
-					
+				catch(Exception ex){//SI HAY UN ERROR GENERAL					
 					if(ex.getMessage().contains("EXISTE")){
 						nuevoResultado.setEmitidoCorrectamente(false);
 						nuevoResultado.setMensaje("Cotizacion Emitida Anteriormente");
@@ -322,6 +264,12 @@
 	}
 
 	private static String crearActualizarEntidad(Entidad entidad) throws Exception{
-		String variableControl="";
+		//Objetos
+		AgriSucreAuditoriaTransaction procesoAuditoria= new AgriSucreAuditoriaTransaction();
+		EntidadWSONBASE entidadEnsurance=new EntidadWSONBASE();
+		Date fecha=new Date();
+		VariableSistemaDAO vsDAO=new VariableSistemaDAO();
+		
+		String variableControl="";//variable de auditoria
 		String ciudad="";
 		String direccion="";
@@ -326,11 +274,9 @@
 		String ciudad="";
 		String direccion="";
-		String provincia="";
-		
-		AgriSucreAuditoria auditoria = new AgriSucreAuditoria();
-		
+		String provincia="";		
+		AgriSucreAuditoria auditoria = new AgriSucreAuditoria();		
 		auditoria.setTramite(""+entidad.getIdentificacion());
 		java.util.Date date2= new java.util.Date();
 		java.sql.Timestamp sq2 = new java.sql.Timestamp(date2.getTime());
 		auditoria.setFecha(sq2);
 		auditoria.setCanal("EMISION");
@@ -332,14 +278,11 @@
 		auditoria.setTramite(""+entidad.getIdentificacion());
 		java.util.Date date2= new java.util.Date();
 		java.sql.Timestamp sq2 = new java.sql.Timestamp(date2.getTime());
 		auditoria.setFecha(sq2);
 		auditoria.setCanal("EMISION");
-		AgriSucreAuditoriaTransaction procesoAuditoria= new AgriSucreAuditoriaTransaction();
-		
-		
 		if(entidad.getDireccions().size()!=0){
 			if (entidad.getDireccions().get(0).getCiudad()!=null){
 				ciudad=entidad.getDireccions().get(0).getCiudad().getId();
 				provincia=entidad.getDireccions().get(0).getCiudad().getProvincia().getId();
 				direccion= entidad.getDireccions().get(0).getCiudad().getProvincia().getNombre()+"/"+ entidad.getDireccions().get(0).getCiudad().getNombre();
 			}
@@ -340,13 +283,11 @@
 		if(entidad.getDireccions().size()!=0){
 			if (entidad.getDireccions().get(0).getCiudad()!=null){
 				ciudad=entidad.getDireccions().get(0).getCiudad().getId();
 				provincia=entidad.getDireccions().get(0).getCiudad().getProvincia().getId();
 				direccion= entidad.getDireccions().get(0).getCiudad().getProvincia().getNombre()+"/"+ entidad.getDireccions().get(0).getCiudad().getNombre();
 			}
-		}
-		
-		if(direccion.trim().equals("")){
+		}else{//si no tiene direccion se envia como si fuese creada en Matriz
 			direccion="Pichincha/Quito";
 			provincia="17";
 			ciudad="1201001";
 		}
@@ -349,7 +290,6 @@
 			direccion="Pichincha/Quito";
 			provincia="17";
 			ciudad="1201001";
 		}
-
-		Date fecha=new Date();
+		/***Servicio web de creacion de usuario en Ensurance***/
 		com.qbe.ensurance.services.WSActualizarCrearEntidadesONBASE.WSActualizarCrearEntidadesONBASEProxy wsEntidadEnsurance=new WSActualizarCrearEntidadesONBASEProxy();
@@ -355,3 +295,2 @@
 		com.qbe.ensurance.services.WSActualizarCrearEntidadesONBASE.WSActualizarCrearEntidadesONBASEProxy wsEntidadEnsurance=new WSActualizarCrearEntidadesONBASEProxy();
-		EntidadWSONBASE entidadEnsurance=new EntidadWSONBASE();
 		try{
@@ -357,49 +296,33 @@
 		try{
-		if(entidad.getApellidos()==null){
-			entidadEnsurance.setApellido(" ");
-			variableControl=variableControl+"Apellido: ";
-		}else{
-			entidadEnsurance.setApellido(entidad.getApellidos());
-			variableControl=variableControl+"Apellido: "+entidad.getApellidos();
-		}
-		entidadEnsurance.setActividadEconomica("-1");
-		variableControl=variableControl+" setActividadEconomica: -1 ";
-		entidadEnsurance.setApellidoRepresentanteLegal(entidad.getApellidos());
-		variableControl=variableControl+" setApellidoRepresentanteLegal: "+entidad.getApellidos();
-		entidadEnsurance.setCiudad(ciudad);
-		variableControl=variableControl+" setCiudad: "+ciudad;
-		entidadEnsurance.setConoceTuCliente("");
-		variableControl=variableControl+" setConoceTuCliente: ";
-		try{
-			entidadEnsurance.setEmailPrincipal(entidad.getMail());
-			variableControl=variableControl+" setEmailPrincipal: "+entidad.getMail();
-		}catch(Exception e){
-			System.out.println("No se encontro el correo electronico");
-			variableControl=variableControl+" setEmailPrincipal: "+"No se encontro el correo electronico";
-		}
-		entidadEnsurance.setEntidadId("no");
-		variableControl=variableControl+" setEntidadId: ";
-		entidadEnsurance.setEstadoCivilId("29");
-		variableControl=variableControl+" setEstadoCivilId: 29";
-		entidadEnsurance.setFechaActualiza(fecha.toLocaleString());
-		variableControl=variableControl+" setFechaActualiza: "+fecha.toLocaleString();
-		entidadEnsurance.setFechaConstitucion(null);
-		variableControl=variableControl+" setFechaConstitucion: null";
-		entidadEnsurance.setFechaNacimiento("01/01/1990");
-		variableControl=variableControl+" setFechaNacimiento: 01/01/1990";
-		entidadEnsurance.setGenero("M");
-		variableControl=variableControl+" setGenero: M";
-		entidadEnsurance.setIdentificacion(entidad.getIdentificacion().trim());
-		variableControl=variableControl+" setIdentificacion: "+entidad.getIdentificacion().trim();
-		entidadEnsurance.setNombre(entidad.getNombres());
-		variableControl=variableControl+" setNombre: "+entidad.getNombres();
-		entidadEnsurance.setNombrecompleto(entidad.getNombreCompleto());
-		variableControl=variableControl+" setNombrecompleto: "+entidad.getNombreCompleto();
-		entidadEnsurance.setNombreDireccion(direccion.trim());
-		variableControl=variableControl+" setNombreDireccion: "+direccion.trim();
-		entidadEnsurance.setNombreRepresentanteLegal(entidad.getNombres());
-		variableControl=variableControl+" setNombreRepresentanteLegal: "+entidad.getNombres();
-		entidadEnsurance.setPais("6815744");
-		variableControl=variableControl+" setPais: 6815744 ";
-		try{
+			//Armado de Objeto Envio Ensurance y log de nuestro Envio
+			if(entidad.getApellidos()==null){
+				entidadEnsurance.setApellido(" ");
+				variableControl=variableControl+"Apellido: ";
+			}else{
+				entidadEnsurance.setApellido(entidad.getApellidos());
+				variableControl=variableControl+"Apellido: "+entidad.getApellidos();
+			}
+			try{
+				entidadEnsurance.setEmailPrincipal(entidad.getMail());
+				variableControl=variableControl+" setEmailPrincipal: "+entidad.getMail();
+			}catch(Exception e){
+				System.out.println("No se encontro el correo electronico");
+				variableControl=variableControl+" setEmailPrincipal: "+"No se encontro el correo electronico";
+			}
+			entidadEnsurance.setActividadEconomica("-1");
+			entidadEnsurance.setApellidoRepresentanteLegal(entidad.getApellidos());
+			entidadEnsurance.setCiudad(ciudad);
+			entidadEnsurance.setConoceTuCliente("");
+			entidadEnsurance.setEntidadId("no");
+			entidadEnsurance.setEstadoCivilId("29");//quemado ya que no tenemos esa informacion desde los clientes
+			entidadEnsurance.setFechaActualiza(fecha.toLocaleString());
+			entidadEnsurance.setFechaConstitucion(null);
+			entidadEnsurance.setFechaNacimiento("01/01/1990");//mandamos porque no tenemos la fecha desde los clientes
+			entidadEnsurance.setGenero("M");
+			entidadEnsurance.setIdentificacion(entidad.getIdentificacion().trim());
+			entidadEnsurance.setNombre(entidad.getNombres());
+			entidadEnsurance.setNombrecompleto(entidad.getNombreCompleto());
+			entidadEnsurance.setNombreDireccion(direccion.trim());
+			entidadEnsurance.setNombreRepresentanteLegal(entidad.getNombres());
+			entidadEnsurance.setPais("6815744");
 			entidadEnsurance.setProvincia(provincia);
@@ -405,2 +328,26 @@
 			entidadEnsurance.setProvincia(provincia);
+			entidadEnsurance.setTelefonoCelular1(entidad.getCelular());
+			entidadEnsurance.setTelefonoConvencional(entidad.getTelefono());
+			entidadEnsurance.setTelefonoOtro(null);
+			entidadEnsurance.setTipoEmpleado("INDEPENDIENTE");
+			entidadEnsurance.setTitulo("");
+			entidadEnsurance.setTipoCliente("PERSONA NATURAL");
+			entidadEnsurance.setPuerto("8084");
+			
+			variableControl=variableControl+" setActividadEconomica: -1 ";		
+			variableControl=variableControl+" setApellidoRepresentanteLegal: "+entidad.getApellidos();		
+			variableControl=variableControl+" setCiudad: "+ciudad;		
+			variableControl=variableControl+" setConoceTuCliente: ";	
+			variableControl=variableControl+" setEntidadId: ";		
+			variableControl=variableControl+" setEstadoCivilId: 29";		
+			variableControl=variableControl+" setFechaActualiza: "+fecha.toLocaleString();		
+			variableControl=variableControl+" setFechaConstitucion: null";		
+			variableControl=variableControl+" setFechaNacimiento: 01/01/1990";		
+			variableControl=variableControl+" setGenero: M";		
+			variableControl=variableControl+" setIdentificacion: "+entidad.getIdentificacion().trim();		
+			variableControl=variableControl+" setNombre: "+entidad.getNombres();
+			variableControl=variableControl+" setNombrecompleto: "+entidad.getNombreCompleto();		
+			variableControl=variableControl+" setNombreDireccion: "+direccion.trim();
+			variableControl=variableControl+" setNombreRepresentanteLegal: "+entidad.getNombres();		
+			variableControl=variableControl+" setPais: 6815744 ";
 			variableControl=variableControl+" setProvincia: "+provincia;
@@ -406,5 +353,9 @@
 			variableControl=variableControl+" setProvincia: "+provincia;
-		}catch(Exception e){
-			System.out.println("No se encontro la provincia");
-		}
+			variableControl=variableControl+" setTelefonoCelular1: "+entidad.getCelular();		
+			variableControl=variableControl+" setTelefonoConvencional: "+entidad.getTelefono();		
+			variableControl=variableControl+" setTelefonoOtro: null";		
+			variableControl=variableControl+" setTipoEmpleado: INDEPENDIENTE ";		
+			variableControl=variableControl+" setTitulo: ";		
+			variableControl=variableControl+" setTipoCliente: PERSONA NATURAL ";		
+			variableControl=variableControl+" setPuerto: 8084 ";
 		
@@ -410,16 +361,9 @@
 		
-		entidadEnsurance.setTelefonoCelular1(entidad.getCelular());
-		variableControl=variableControl+" setTelefonoCelular1: "+entidad.getCelular();
-		entidadEnsurance.setTelefonoConvencional(entidad.getTelefono());
-		variableControl=variableControl+" setTelefonoConvencional: "+entidad.getTelefono();
-		entidadEnsurance.setTelefonoOtro(null);
-		variableControl=variableControl+" setTelefonoOtro: null";
-		entidadEnsurance.setTipoEmpleado("INDEPENDIENTE");
-		variableControl=variableControl+" setTipoEmpleado: INDEPENDIENTE ";
-		entidadEnsurance.setTitulo("");
-		variableControl=variableControl+" setTitulo: ";
-		entidadEnsurance.setTipoCliente("PERSONA NATURAL");
-		variableControl=variableControl+" setTipoCliente: PERSONA NATURAL ";
-		entidadEnsurance.setPuerto("8084");
-		variableControl=variableControl+" setPuerto: 8084 ";
+			//tomamos los valores desde variables del sistema VARIABLES MIXTAS
+			VariableSistema  vs=vsDAO.buscarPorNombre("USUARIO_EMI_AGRICOLA");
+			entidadEnsurance.setUsuario(vs.getValor());   
+			variableControl=variableControl+" setUsuario:" +vs.getValor();
+			vs=vsDAO.buscarPorNombre("CONTRASENIA_EMI_AGRICOLA");
+			entidadEnsurance.setPassword(vs.getValor());
+			variableControl=variableControl+" setPassword: "+vs.getValor();
 		
@@ -425,21 +369,10 @@
 		
-		//tomamos los valores desde variables del sistema
-		
-		VariableSistemaDAO vsDAO=new VariableSistemaDAO();
-	    VariableSistema  vs=vsDAO.buscarPorNombre("USUARIO_EMI_AGRICOLA");
-	    entidadEnsurance.setUsuario(vs.getValor());	    
-		variableControl=variableControl+" setUsuario:" +vs.getValor();
-		
-		vs=vsDAO.buscarPorNombre("CONTRASENIA_EMI_AGRICOLA");
-		entidadEnsurance.setPassword(vs.getValor());
-		variableControl=variableControl+" setPassword: "+vs.getValor();
-		
-		auditoria.setEstado("OK");
-		variableControl=variableControl+" ||||| OBJETO ";
-		auditoria.setObjeto(variableControl);
-		procesoAuditoria.crear(auditoria);
-		
+			//creamos Auditoria de la informacion que enviamos
+			auditoria.setEstado("OK");
+			variableControl=variableControl+" ||||| OBJETO ";
+			auditoria.setObjeto(variableControl);
+			procesoAuditoria.crear(auditoria);		
 		}catch(Exception ex){
 			ex.printStackTrace();
 			throw new Exception("Uno de los parametros del cliente no es correcto "+ex.getMessage());
 		}
@@ -442,7 +375,9 @@
 		}catch(Exception ex){
 			ex.printStackTrace();
 			throw new Exception("Uno de los parametros del cliente no es correcto "+ex.getMessage());
 		}
+		
+		/***COMUNICACION CON EL WS DE ENSURANCE***/
 		String result="";
 		try
 		{
@@ -459,5 +394,5 @@
 			variableControl=variableControl+" ||||| RESPUESTA ENSURANCE: result "+result;
 			auditoria.setObjeto(variableControl);
 			procesoAuditoria.crear(auditoria);
-			throw new Exception("Error al crear la entidad ensurance");
+			throw new Exception("Error al crear la entidad ensurance :"+ex);
 			
@@ -463,7 +398,6 @@
 			
-		}
-		
+		}		
 		return result;
 	}
 	
 	private static AgriResultadoEmision generarXML(Cotizacion cotizacion){
@@ -466,6 +400,7 @@
 		return result;
 	}
 	
 	private static AgriResultadoEmision generarXML(Cotizacion cotizacion){
+		//ARMAMOS LOS OBJETOS
 		AgriResultadoEmision resultado=new AgriResultadoEmision();
 		AgriSucreAuditoria agriSucreAuditoria = new AgriSucreAuditoria();
@@ -470,12 +405,5 @@
 		AgriResultadoEmision resultado=new AgriResultadoEmision();
 		AgriSucreAuditoria agriSucreAuditoria = new AgriSucreAuditoria();
-		try{
-		if(cotizacion.getAsegurado()==null)
-		{
-			resultado.setGeneradoXMLCorrectamente(false);
-			resultado.setMensaje("La cotización no tiene un asegurado");
-			return resultado;
-		}
 		ClienteDAO clienteDAO=new ClienteDAO();
 		AgenteDAO agenteDAO=new AgenteDAO();
 		AgriParametroXPuntoVentaDAO parametroDAO=new AgriParametroXPuntoVentaDAO();
@@ -485,9 +413,4 @@
 		AgriTipoCultivoDAO tipoCultivoDAO=new AgriTipoCultivoDAO();
 		EntidadDAO entidadDAO=new EntidadDAO();
 		EndosoBeneficiarioDAO endosoBeneficiarioDAO=new EndosoBeneficiarioDAO();
-
-		Agente agente=agenteDAO.buscarPorId(cotizacion.getAgenteId().toString());
-		AgriParametroXPuntoVenta parametroXPV=parametroDAO.buscarPorPuntoVentaId(new BigInteger(cotizacion.getPuntoVenta().getId()));
-		PuntoVenta puntoVenta=puntoVentaDAO.buscarPorId(cotizacion.getPuntoVenta().getId());
-		ProductoXPuntoVenta productoXPV=productoXPVDAO.buscarPorId(cotizacion.getProductoXPuntoVentaId().toString());
 		CotizacionDetalle cotizacionDetalle = new CotizacionDetalle();
@@ -493,10 +416,3 @@
 		CotizacionDetalle cotizacionDetalle = new CotizacionDetalle();
-		CotizacionDetalleDAO cotizacionDetalleDAO= new CotizacionDetalleDAO();
-		cotizacionDetalle=cotizacionDetalleDAO.buscarCotizacionDetallePorCotizacion(cotizacion).get(0);
-		AgriObjetoCotizacion objetoCotizacion=objetoCotizacionDAO.buscarPorId(new BigInteger(cotizacionDetalle.getObjetoId()));
-		AgriTipoCultivo tipoCultivo=tipoCultivoDAO.BuscarPorId(objetoCotizacion.getTipoCultivoId());
-		Cliente cliente=clienteDAO.buscarPorId(cotizacion.getClienteId().toString());
-		
-		String zonaAfectada="0";
 		Provincia  provincia = new Provincia();
 		ProvinciaDAO provinciaDAO= new ProvinciaDAO();
@@ -501,19 +417,15 @@
 		Provincia  provincia = new Provincia();
 		ProvinciaDAO provinciaDAO= new ProvinciaDAO();
-		provincia= provinciaDAO.buscarPorId(objetoCotizacion.getProvinciaId().toString());
-		if(provincia.getNombre().trim().equals("MANABI")||provincia.getNombre().trim().equals("ESMERALDAS")){
-			int canal=Integer.parseInt(parametroXPV.getCanalId().toString());
-			if(canal==1)
-				zonaAfectada="0";
-			else
-				zonaAfectada="1";	
-		}
-		//Valido que existe un tipo de cultivo
-		if(tipoCultivo.getTipoCultivoId()==null){
-			resultado.setGeneradoXMLCorrectamente(false);
-			resultado.setMensaje("No existe el tipo de cultivo indicado en la cotización");
-			return resultado;
-		}
-		else{
-			if(tipoCultivo.getCodEnsurance().equals("") || tipoCultivo.getCodEnsurance()==null){
+		AgriCanalDAO agriCanalDAO=new AgriCanalDAO();
+		AgriParametroXCanalDAO apcDAO=new AgriParametroXCanalDAO();
+		AgriAuditoriaCotizacion  agriAuditoriaCotizacion = new AgriAuditoriaCotizacion();
+	    AgriAuditoriaCotizacionDAO agriAuditoriaCotizacionDAO = new AgriAuditoriaCotizacionDAO();
+	    CotizacionTransaction  cotizacionTransaction = new CotizacionTransaction();
+	    TipoVariableDAO tipoVariableDao = new TipoVariableDAO();
+	    VariableSistemaDAO variableDAO= new VariableSistemaDAO();
+		
+		//COMENSAMOS A ARMAR EL XML :)
+		try{
+			if(cotizacion.getAsegurado()==null)
+			{
 				resultado.setGeneradoXMLCorrectamente(false);
@@ -519,4 +431,4 @@
 				resultado.setGeneradoXMLCorrectamente(false);
-				resultado.setMensaje("El tipo de cultivo no tiene un código válido en Ensurance");
+				resultado.setMensaje("La cotización no tiene un asegurado");
 				return resultado;
 			}
@@ -521,4 +433,12 @@
 				return resultado;
 			}
-		}
+			Agente agente=agenteDAO.buscarPorId(cotizacion.getAgenteId().toString());
+			AgriParametroXPuntoVenta parametroXPV=parametroDAO.buscarPorPuntoVentaId(new BigInteger(cotizacion.getPuntoVenta().getId()));
+			PuntoVenta puntoVenta=puntoVentaDAO.buscarPorId(cotizacion.getPuntoVenta().getId());
+			ProductoXPuntoVenta productoXPV=productoXPVDAO.buscarPorId(cotizacion.getProductoXPuntoVentaId().toString());
+			CotizacionDetalleDAO cotizacionDetalleDAO= new CotizacionDetalleDAO();
+			cotizacionDetalle=cotizacionDetalleDAO.buscarCotizacionDetallePorCotizacion(cotizacion).get(0);
+			AgriObjetoCotizacion objetoCotizacion=objetoCotizacionDAO.buscarPorId(new BigInteger(cotizacionDetalle.getObjetoId()));
+			AgriTipoCultivo tipoCultivo=tipoCultivoDAO.BuscarPorId(objetoCotizacion.getTipoCultivoId());
+			Cliente cliente=clienteDAO.buscarPorId(cotizacion.getClienteId().toString());
 		
@@ -524,30 +444,43 @@
 		
-		//Determino la plantilla
-		String plantillaId="";
-		String contenedorId="";
-		String sucursalId="";
-		if(parametroXPV.getCanalId()!=null)
-		{
-			AgriCanalDAO agriCanalDAO=new AgriCanalDAO();
-			AgriCanal agriCanal=agriCanalDAO.BuscarPorId(parametroXPV.getCanalId());
-//			if(agriCanal.getNombre().equals("DIRECTOS")){
-//				//contenedorId="";
-//				//TODO: En la ultima reunion se quedo que en directos si iba a tener un contenedor
-//				contenedorId=parametroXPV.getContenedorEnsuranceId();
-//			}
-//			else{
-//				contenedorId=parametroXPV.getContenedorEnsuranceId();
-//			}
-				
-			
-			AgriParametroXCanalDAO apcDAO=new AgriParametroXCanalDAO();
-			
-			AgriParametroXCanal parametroXCanal = apcDAO.obtenerPorCanalTipoCultivo(parametroXPV.getPuntoVentaId(), tipoCultivo.getTipoCultivoId());
-			if(parametroXCanal.getParametroCanalId()!=null){
-				if(parametroXCanal.getPlantillaId()!=null){
-					plantillaId=parametroXCanal.getPlantillaId();
-					contenedorId=parametroXCanal.getContenedorEnsuranceId();
-					
+			/*TODO: VERIFICAMOS SI SE ENCUENTRA EN ZONA DE TERREMOTO*/
+			String zonaAfectada="0";
+			provincia= provinciaDAO.buscarPorId(objetoCotizacion.getProvinciaId().toString());
+			if(provincia.getNombre().trim().equals("MANABI")||provincia.getNombre().trim().equals("ESMERALDAS")){
+				int canal=Integer.parseInt(parametroXPV.getCanalId().toString());
+				if(canal==1)
+					zonaAfectada="0";
+				else
+					zonaAfectada="1";	
+			}
+			//Valido que existe un tipo de cultivo
+			if(tipoCultivo.getTipoCultivoId()==null){
+				resultado.setGeneradoXMLCorrectamente(false);
+				resultado.setMensaje("No existe el tipo de cultivo indicado en la cotización");
+				return resultado;
+			}
+			else{
+				if(tipoCultivo.getCodEnsurance().equals("") || tipoCultivo.getCodEnsurance()==null){
+					resultado.setGeneradoXMLCorrectamente(false);
+					resultado.setMensaje("El tipo de cultivo no tiene un código válido en Ensurance");
+					return resultado;
+				}
+			}
+			//TODO: VERIFICAMOS LA CONFIGURACION DE LA PLANTILLA Y EL CONTENEDOR
+			//Determino la plantilla del tipo de cultivo para la emision, Agricola cada canal y cultivo tienen ids diferentes
+			String plantillaId="";
+			String contenedorId="";
+			if(parametroXPV.getCanalId()!=null){
+				AgriParametroXCanal parametroXCanal = apcDAO.obtenerPorCanalTipoCultivo(parametroXPV.getPuntoVentaId(), tipoCultivo.getTipoCultivoId());
+				if(parametroXCanal.getParametroCanalId()!=null){
+					if(parametroXCanal.getPlantillaId()!=null){
+						plantillaId=parametroXCanal.getPlantillaId();
+						contenedorId=parametroXCanal.getContenedorEnsuranceId();						
+					}
+					else{
+						resultado.setGeneradoXMLCorrectamente(false);
+						resultado.setMensaje("No existe configurado una plantilla para este canal.");
+						return resultado;
+					}						
 				}
 				else{
 					resultado.setGeneradoXMLCorrectamente(false);
@@ -551,7 +484,7 @@
 				}
 				else{
 					resultado.setGeneradoXMLCorrectamente(false);
-					resultado.setMensaje("No existe configurado una plantilla para este canal.");
+					resultado.setMensaje("No existe la configuración de paramateros para este canal.");
 					return resultado;
 				}
 					
@@ -561,16 +494,7 @@
 				resultado.setMensaje("No existe la configuración de paramateros para este canal.");
 				return resultado;
 			}
-				
-		}
-		else{
-			resultado.setGeneradoXMLCorrectamente(false);
-			resultado.setMensaje("No existe la configuración de paramateros para este canal.");
-			return resultado;
-		}
-		
-		
-		EndosoBeneficiario endosoBeneficiario = endosoBeneficiarioDAO.buscarPorCotizacion(cotizacion);
-		
+			//VERIFICAMOS EL ENDOSOBENEFICIARIO		
+			EndosoBeneficiario endosoBeneficiario = endosoBeneficiarioDAO.buscarPorCotizacion(cotizacion);	//si no tiene endoso beneficiario lo creamos	
 			if (endosoBeneficiario == null){
 				endosoBeneficiario = new EndosoBeneficiario();
@@ -575,6 +499,5 @@
 			if (endosoBeneficiario == null){
 				endosoBeneficiario = new EndosoBeneficiario();
-				//TODO:COntrolar que el ensodoso beneficiario se cree solo para banca comunal y credife 
 				EndosoBeneficiarioTransaction endosoBeneficiarioTransaction = new EndosoBeneficiarioTransaction();
 				BeneficiarioDAO beneficiarioDAO = new BeneficiarioDAO();
 				Beneficiario beneficiario = beneficiarioDAO.buscarPorId(parametroXPV.getBeneficiarioId());
@@ -583,4 +506,15 @@
 				endosoBeneficiario.setMonto(cotizacion.getSumaAseguradaTotal());
 				endosoBeneficiario=endosoBeneficiarioTransaction.crear(endosoBeneficiario);
 			}
+			//PROCESO DE ARMADO DE FECHAS	
+			agriAuditoriaCotizacion = agriAuditoriaCotizacionDAO.BuscarPorCotizacinId(new BigInteger(cotizacion.getId()));
+			Calendar c = Calendar.getInstance(); ;
+			c.setTime(objetoCotizacion.getFechaSiembra()); 
+			c.add(Calendar.DATE, tipoCultivo.getVigenciaDias());
+			Date vigenciaHasta = c.getTime();// vigencia hasta para la emision
+			DateFormat df = new SimpleDateFormat("dd/MM/yyyy");		
+			String fechaInicioCultivo = df.format(objetoCotizacion.getFechaSiembra());		
+			String fechaFinalCultivo = df.format(vigenciaHasta);		
+			long fechaInicioPoliza = cotizacion.getVigenciaDesde().getTime()/1000;		
+			long fechaFinalPoliza = vigenciaHasta.getTime()/1000;
 		
@@ -586,62 +520,92 @@
 		
-			
-		//CREACION DE LA DIRECCION
-			
-		//Proceso de Auditoria	
-		
-			
-	    AgriAuditoriaCotizacion  agriAuditoriaCotizacion = new AgriAuditoriaCotizacion();
-	    AgriAuditoriaCotizacionDAO agriAuditoriaCotizacionDAO = new AgriAuditoriaCotizacionDAO();
-	    agriAuditoriaCotizacion = agriAuditoriaCotizacionDAO.BuscarPorCotizacinId(new BigInteger(cotizacion.getId()));
-		Calendar c = Calendar.getInstance(); ;
-		c.setTime(objetoCotizacion.getFechaSiembra()); 
-		c.add(Calendar.DATE, tipoCultivo.getVigenciaDias());
-		Date vigenciaHasta = c.getTime();
-		
-		Calendar cPol = Calendar.getInstance(); 
-		cPol.setTime(agriAuditoriaCotizacion.getFecha()); 
-		cPol.add(Calendar.DATE, tipoCultivo.getVigenciaDias());
-		Date vigenciaPolHasta = cPol.getTime();
-		CotizacionTransaction  cotizacionTransaction = new CotizacionTransaction();
-		
-		cotizacion.setVigenciaDesde(agriAuditoriaCotizacion.getFecha());
-		cotizacionTransaction.editar(cotizacion);
-		
-		
-		DateFormat df = new SimpleDateFormat("dd/MM/yyyy");
-		
-		String fechaInicioCultivo = df.format(objetoCotizacion.getFechaSiembra());
-		
-		String fechaFinalCultivo = df.format(vigenciaHasta);
-		
-		long fechaInicioPoliza = cotizacion.getVigenciaDesde().getTime()/1000;
-		
-		long fechaFinalPoliza = vigenciaPolHasta.getTime()/1000;
-		/*Date fechaAprobacion=new Date();
-		SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");
-		try{
-			fechaAprobacion=dateFormat.parse(fechaInicioVigencia);
-		} catch (ParseException e) {
-			e.printStackTrace();
-			.append("<puerto>8084</puerto>")
-		}*/
-		
-		
-		/*PARA EL ENVIO DE LOS EMAIL*/
-		/*PROCESO DE CALCULO DE COMPONENTES*/
-		TipoVariableDAO tipoVariableDao = new TipoVariableDAO();
-        TipoVariable tipoVariable = tipoVariableDao.buscarPorId("3");
-        VariableSistemaDAO variableDAO= new VariableSistemaDAO();
-        List<VariableSistema> variablesistema = variableDAO.buscarTipoVariable(tipoVariable);
-        String CorreoElectronico="";
-        String variableS="";
-        if(parametroXPV.getCanalId().toString().equals("2")){
-        	variableS="CORREO_PRONACA";
-        }
-        if(parametroXPV.getCanalId().toString().equals("5")){
-        	variableS="CORREO_COPROGRESO";
-        }
-        if(parametroXPV.getCanalId().toString().equals("3")){
-        	variableS="CORREO_PICHINCHA";
-        }
+			/****TODO: CONFIGURACIONES GLOBALES TOMADOS POR MEDIO DE VARIABLES DEL SISTEMA****/
+			/*PROCESO DE CALCULO DE COMPONENTES*/			
+	        TipoVariable tipoVariable = tipoVariableDao.buscarPorId("3");
+	        List<VariableSistema> variablesistema = variableDAO.buscarTipoVariable(tipoVariable);
+	        String CorreoElectronico="";
+	        String variableS="";
+	        String login="";
+	        String password="";
+	        String tipoRiesgo="";
+	        String claseRiesgo="";
+	        String tipoItem="";
+	        switch (parametroXPV.getCanalId().toString()) {
+		         case "2":
+		        	 variableS="CORREO_PRONACA";
+		             break;
+		         case "3":
+		        	 variableS="CORREO_PICHINCHA";
+		             break;
+		         case "5":
+		        	 variableS="CORREO_COPROGRESO";
+		             break;	         
+		         case "6":
+		        	 variableS="CORREO_AGRIPAC";
+		             break;
+		         case "7":
+		        	 variableS="CORREO_ECUAQUIMICA";
+		             break;
+		         default:
+		        	resultado.setGeneradoXMLCorrectamente(false);
+					resultado.setMensaje("No existe la configuración de correos para facturacion electronica.");
+					return resultado;
+	        }
+	        //RECORRO LAS VARIABLES DEL SISTEMA TRAYENDO SOLO LAS QUE NECESITO       
+	        if(variablesistema.size() > 0) {
+	        	for(VariableSistema variable : variablesistema) {	        		
+	        		if(variable.getNombre().equals(variableS))
+	        			CorreoElectronico=variable.getValor();//%COMISION DE AGENTE
+	        		if(variable.getNombre().equals("USUARIO_EMI_AGRICOLA"))
+	        			login=variable.getValor();//usuario con el que se logue para emision
+	        		if(variable.getNombre().equals("CONTRASENIA_EMI_AGRICOLA"))
+	        			password=variable.getValor();//contrasenia con la que se loguea para la emision
+	        		if(variable.getNombre().equals("TIPO_RIESGO_AGRICOLA"))
+	        			tipoRiesgo=variable.getValor();//TIPO_RIESGO_AGRICOLA para la emision
+	        		if(variable.getNombre().equals("CLASE_RIESGO_AGRICOLA"))
+	        			claseRiesgo=variable.getValor();//CLASE_RIESGO_AGRICOLA para la emision
+	        		if(variable.getNombre().equals("TIPO_ITEM_AGRICOLA"))
+	        			tipoItem=variable.getValor();//TIPO_ITEM_AGRICOLA para la emision
+	        	}
+	        }
+	        /**VARIABLES EN PREPARACION DE LA EMISION**/	        
+	        String agricultorTecnificado="";        
+	        if(objetoCotizacion.getAgricultorTecnificado())
+	        	agricultorTecnificado="Si";
+	        else
+	        	agricultorTecnificado="No";
+	        String EndosoBeneficiarioId="";
+	        if(endosoBeneficiario!=null){
+				Entidad entidadBeneficiario=entidadDAO.buscarEntidadPorIdEnsurance(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString());
+				EndosoBeneficiarioId=entidadBeneficiario.getEntEnsurance();
+			}else
+				EndosoBeneficiarioId="0";
+	        String cantonSBS="";
+	        String parroquiaSBS="";
+	        if(cliente.getEntidad().getDireccions().get(0).getParroquia()!=null){
+	        	cantonSBS=cliente.getEntidad().getDireccions().get(0).getParroquia().getCanton().getId();
+	        	parroquiaSBS=cliente.getEntidad().getDireccions().get(0).getParroquia().getId();
+			}
+			else{
+				cantonSBS="1201";
+				parroquiaSBS="120153";
+			}
+	         /**CASO ESPECIAL**/
+	        String unidadNegocio="";
+	        if(puntoVenta.getNombre().equals("COOPROGRESO")){
+	        	//TODO: OJO SOLO COOPROGRESO Peticion david garzon para distingir entre masivos y agricola ganadero
+	        	//encontramos el usuario que relizo la cotizacion.
+	        	String nombreEjecutivo=objetoCotizacion.getUsuarioOffline();
+	        	UsuariosOffline usuariosOffline = new UsuariosOffline();
+	    		UsuariosOfflineDAO usuariosOfflineDAO = new UsuariosOfflineDAO();
+	    		usuariosOffline=usuariosOfflineDAO.BuscarNombre(nombreEjecutivo);	    		
+	    		//Tomamos la unidad de negocio
+	    		UnidadNegocioDAO unidadNegocioDAO = new UnidadNegocioDAO();
+	    		UnidadNegocio negocio=unidadNegocioDAO.buscarPorId(usuariosOffline.getUnidadNegocio());
+	    		unidadNegocio=negocio.getUnEnsurance();
+	    		
+	        }else{
+	        	//TODO: Para canales sucre, banca comunal, Pronaca todo se emite como agricola ganadero
+	        	unidadNegocio=productoXPV.getUnidadNegocio().getUnEnsurance();
+	        }
+            /***DESPUES DE TODITO ESO VIENE EL ARMADO DEL XML***/    
         
@@ -647,90 +611,117 @@
         
-        
-        String login="";
-        String password="";
-        String tipoRiesgo="";
-        String claseRiesgo="";
-        String tipoItem="";
-        if(variablesistema.size() > 0) {
-        	for(VariableSistema variable : variablesistema) {
-        		
-        		if(variable.getNombre().equals(variableS)){
-        			CorreoElectronico=variable.getValor();//%COMISION DE AGENTE
-        		}
-        		if(variable.getNombre().equals("USUARIO_EMI_AGRICOLA")){
-        			login=variable.getValor();//usuario con el que se logue para emision
-        		}
-        		if(variable.getNombre().equals("CONTRASENIA_EMI_AGRICOLA")){
-        			password=variable.getValor();//contrasenia con la que se loguea para la emision
-        		}
-        		if(variable.getNombre().equals("TIPO_RIESGO_AGRICOLA")){
-        			tipoRiesgo=variable.getValor();//TIPO_RIESGO_AGRICOLA para la emision
-        		}
-        		if(variable.getNombre().equals("CLASE_RIESGO_AGRICOLA")){
-        			claseRiesgo=variable.getValor();//CLASE_RIESGO_AGRICOLA para la emision
-        		}
-        		if(variable.getNombre().equals("TIPO_ITEM_AGRICOLA")){
-        			tipoItem=variable.getValor();//TIPO_ITEM_AGRICOLA para la emision
-        		}
-        	}
-        }
-        String agricultorTecnificado="";
-        
-        if(objetoCotizacion.getAgricultorTecnificado()){
-        	agricultorTecnificado="Si";
-        }else{
-        	agricultorTecnificado="No";
-        }
-		
-        //Encontramos la unidad de negocio
-        String unidadNegocio="";
-        
-        if(puntoVenta.getNombre().equals("COOPROGRESO")){
-        	//TODO: OJO SOLO COOPROGRESO Peticion david garzon para distingir entre masivos y agricola ganadero
-        	//encontramos el usuario que relizo la cotizacion.
-        	String nombreEjecutivo=objetoCotizacion.getUsuarioOffline();
-        	UsuariosOffline usuariosOffline = new UsuariosOffline();
-    		UsuariosOfflineDAO usuariosOfflineDAO = new UsuariosOfflineDAO();
-    		usuariosOffline=usuariosOfflineDAO.BuscarNombre(nombreEjecutivo);
-    		
-    		//Tomamos la unidad de negocio
-    		UnidadNegocioDAO unidadNegocioDAO = new UnidadNegocioDAO();
-    		UnidadNegocio negocio=unidadNegocioDAO.buscarPorId(usuariosOffline.getUnidadNegocio());
-    		unidadNegocio=negocio.getUnEnsurance();
-    		
-        }else{
-        	//TODO: Para canales sucre, banca comunal, Pronaca todo se emite como agricola ganadero
-        	unidadNegocio=productoXPV.getUnidadNegocio().getUnEnsurance();
-        }
-                
-        
-		StringBuilder xml=new StringBuilder("<superObjetoXML><detallesPoliza><identificador>").append(cotizacion.getId()).append("</identificador>")
-		.append("<login>").append(login).append("</login>")
-		.append("<pass>").append(password).append("</pass>")
-		.append("<agenteId>").append(agente.getAgeEnsurance()).append("</agenteId>")
-		.append("<porcentajeComision>").append(cotizacion.getPorcentajeComision()).append("</porcentajeComision>")
-		.append("<valorprima>").append(cotizacion.getPrimaNetaTotal()).append("</valorprima>")
-		.append("<canalId>").append(parametroXPV.getCanalId()).append("</canalId>")
-		.append("<contenedorId>").append(contenedorId).append("</contenedorId>")
-		//ensurance solo acepta lote de maximo 40 caracteres
-		.append("<loteImpresion>").append((puntoVenta.getNombre())).append("</loteImpresion>")
-		.append("<puntoVentaId>")
-		.append(puntoVenta.getPtoEnsurance())
-		.append("</puntoVentaId>")
-		.append("<tipoRiesgoId>").append(tipoRiesgo).append("</tipoRiesgoId>")
-		.append("<claseRiesgoId>").append(claseRiesgo).append("</claseRiesgoId>")
-		.append("<tipoItemId>").append(tipoItem).append("</tipoItemId>")
-		.append("<monedaId>11141120</monedaId>")
-		.append("<plantillaId>").append(plantillaId).append("</plantillaId>")
-		.append("<firmaDigitalId>1</firmaDigitalId>")
-		.append("<usuarioActualiza>10822106152960</usuarioActualiza>")
-		.append("<ramoId>7274513</ramoId>")
-		.append("<mnemotecnicoRamo>SA</mnemotecnicoRamo>")
-		.append("<unidadNegocioId>").append(unidadNegocio).append("</unidadNegocioId>")
-		.append("<unidadProduccionId>").append(productoXPV.getUnidadProduccion().getUpEnsurance()).append("</unidadProduccionId>")
-		//NUMERO DE COTIZACION 2
-		.append("<numeroPoliza>").append(objetoCotizacion.getIdCotizacion2()).append("</numeroPoliza>")
-		.append("<codigoIntegracion>998000008</codigoIntegracion>")
-		.append("<fechaAprobacion>").append(Utilitarios.actualDate()).append("</fechaAprobacion>");
+	        StringBuilder xml=new StringBuilder("<superObjetoXML>")
+	        		.append("<detallesPoliza>")
+	        			.append("<identificador>").append(cotizacion.getId()).append("</identificador>")
+		        		.append("<login>").append(login).append("</login>")
+		        		.append("<pass>").append(password).append("</pass>")
+		        		.append("<agenteId>").append(agente.getAgeEnsurance()).append("</agenteId>")
+		        		.append("<porcentajeComision>").append(cotizacion.getPorcentajeComision()).append("</porcentajeComision>")
+		        		.append("<valorprima>").append(cotizacion.getPrimaNetaTotal()).append("</valorprima>")
+		        		.append("<canalId>").append(parametroXPV.getCanalId()).append("</canalId>")
+		        		.append("<contenedorId>").append(contenedorId).append("</contenedorId>")
+		        		.append("<loteImpresion>").append((puntoVenta.getNombre())).append("</loteImpresion>")
+		        		.append("<puntoVentaId>").append(puntoVenta.getPtoEnsurance()).append("</puntoVentaId>")
+		        		.append("<tipoRiesgoId>").append(tipoRiesgo).append("</tipoRiesgoId>")
+		        		.append("<claseRiesgoId>").append(claseRiesgo).append("</claseRiesgoId>")
+		        		.append("<tipoItemId>").append(tipoItem).append("</tipoItemId>")
+		        		.append("<monedaId>11141120</monedaId>")
+		        		.append("<plantillaId>").append(plantillaId).append("</plantillaId>")
+		        		.append("<firmaDigitalId>1</firmaDigitalId>")
+		        		.append("<usuarioActualiza>10822106152960</usuarioActualiza>")
+		        		.append("<ramoId>7274513</ramoId>")
+		        		.append("<mnemotecnicoRamo>SA</mnemotecnicoRamo>")
+		        		.append("<unidadNegocioId>").append(unidadNegocio).append("</unidadNegocioId>")//agricola-ganadero o como masivos
+		        		.append("<unidadProduccionId>").append(productoXPV.getUnidadProduccion().getUpEnsurance()).append("</unidadProduccionId>")//agricola
+		        		.append("<numeroPoliza>").append(objetoCotizacion.getIdCotizacion2()).append("</numeroPoliza>")//NUMERO DE COTIZACION 2
+		        		.append("<codigoIntegracion>998000008</codigoIntegracion>")
+		        		.append("<fechaAprobacion>").append(Utilitarios.actualDate()).append("</fechaAprobacion>")
+						.append("<codigoEntidadFinanciera>").append(EndosoBeneficiarioId).append("</codigoEntidadFinanciera>")						
+						.append("<vigenciaDesde>").append(fechaInicioPoliza).append("</vigenciaDesde>")
+						.append("<valorAsegurado>").append(cotizacion.getSumaAseguradaTotal()).append("</valorAsegurado>")
+						.append("<vigenciaHasta>").append(fechaFinalPoliza).append("</vigenciaHasta>")
+						.append("<sucursalId>").append(cotizacion.getPuntoVenta().getSucursal().getSucEnsurance()).append("</sucursalId>")
+						.append("<esZonaAfectada>").append(zonaAfectada).append("</esZonaAfectada>")
+					.append("</detallesPoliza>")
+					.append("<loteCultivo>")
+						.append("<loteCultivoId>-1</loteCultivoId>")
+						.append("<nombre>").append(puntoVenta.getNombre()).append("</nombre>")
+						.append("<valorAsegurado>").append(cotizacion.getSumaAseguradaTotal()).append("</valorAsegurado>")
+						.append("<numeroHectareas>").append(objetoCotizacion.getHectareasLote()).append("</numeroHectareas>")
+						.append("<valorPorHectarea>").append(objetoCotizacion.getCostoProduccion()).append("</valorPorHectarea>")
+						.append("<gpsLoteX>").append(objetoCotizacion.getLatitud()).append("</gpsLoteX>")
+						.append("<gpsLoteY>").append(objetoCotizacion.getLongitud()).append("</gpsLoteY>")
+						.append("<tasa>").append(cotizacion.getTasaProductoValor()).append("</tasa>")
+						.append("<tipoCultivoId>").append(tipoCultivo.getCodEnsurance()).append("</tipoCultivoId>")
+						.append("<diasVigencia>").append(tipoCultivo.getVigenciaDias()).append("</diasVigencia>")
+						.append("<inicioVigenciaCultivo>").append(fechaInicioCultivo).append("</inicioVigenciaCultivo>")
+						.append("<finVigenciaCultivo>").append(fechaFinalCultivo).append("</finVigenciaCultivo>")
+						.append("<variedad>").append(objetoCotizacion.getVariedad()).append("</variedad>")
+						.append("<numeroHectareasAsegurables>").append(objetoCotizacion.getHectareasAsegurables()).append("</numeroHectareasAsegurables>")
+						.append("<esTecnificado>").append(agricultorTecnificado).append("</esTecnificado>")
+						.append("<fechaTentativaSiembra>").append(objetoCotizacion.getFechaSiembra()).append("</fechaTentativaSiembra>")
+						.append("<propiedadId>-1</propiedadId>")
+					.append("</loteCultivo>")
+					.append("<cliente>")
+						.append("<id>no</id>")
+						.append("<entidadId>")
+						.append(cliente.getEntidad().getEntEnsurance()==null||cliente.getEntidad().getEntEnsurance().trim().equals("0")?"no":cliente.getEntidad().getEntEnsurance()).append("</entidadId>")
+						.append("<nombres>").append(cliente.getEntidad().getNombres()).append("</nombres>")
+						.append("<apellidos>").append(cliente.getEntidad().getApellidos()==null?" ":cliente.getEntidad().getApellidos()).append("</apellidos>")
+						.append("<tipoIdentificacion>")
+						.append(cliente.getEntidad().getTipoIdentificacion().getId().equals("1") ? "c":cliente.getEntidad().getTipoIdentificacion().equals("2") ? "p":"r")
+						.append("</tipoIdentificacion>")
+						.append("<tipoEntidadId>").append(cliente.getEntidad().getTipoEntidad().getId()).append("</tipoEntidadId>")
+						.append("<identificacion>").append(cliente.getEntidad().getIdentificacion()).append("</identificacion>")
+	        			.append("<email>").append(CorreoElectronico).append("</email>")		
+	        			.append("<genero>f</genero>")
+	        			.append("<esEmpresa>")
+	        			.append(cliente.getEntidad().getTipoIdentificacion().getId().equals("1") ? "false":cliente.getEntidad().getTipoIdentificacion().getId().equals("2") ? "false":cliente.getEntidad().getTipoIdentificacion().getId().equals("3")?"false":"true")
+	        			.append("</esEmpresa>")
+	        			.append("<DireccionDTO><direccion>")
+		        			.append("<paisId>6815744</paisId>")		
+		        			.append("<provinciaId>").append(cliente.getEntidad().getDireccions().get(0).getCiudad().getProvincia().getCodigoSbs()).append("</provinciaId>")
+		        			.append("<ciudadId>").append(cliente.getEntidad().getDireccions().get(0).getCiudad().getId()).append("</ciudadId>")
+							.append("<cantonId>").append(cantonSBS).append("</cantonId>")
+							.append("<parroquiaId>").append(parroquiaSBS).append("</parroquiaId>")
+							.append("<direccion>")		
+								.append(cliente.getEntidad().getDireccions().get(0).getCallePrincipal())
+								.append(" ")
+								.append(cliente.getEntidad().getDireccions().get(0).getNumero())
+								.append(" ")
+								.append(cliente.getEntidad().getDireccions().get(0).getCalleSecundaria())
+							.append("</direccion>")
+							.append("<telefono>").append((cliente.getEntidad().getTelefono()!=null && !cliente.getEntidad().getTelefono().equals("")) ? cliente.getEntidad().getTelefono():"-").append("</telefono>")
+						.append("</direccion></DireccionDTO>")
+					.append("</cliente>")
+					.append("<asegurado>")
+						.append("<id>no</id>")
+						.append("<entidadId>").append(cotizacion.getAsegurado().getEntEnsurance()).append("</entidadId>")
+						.append("<nombres>").append(cotizacion.getAsegurado().getNombres()).append("</nombres>")
+						.append("<apellidos>").append(cotizacion.getAsegurado().getApellidos()).append("</apellidos>")
+						.append("<tipoIdentificacion>")
+						.append(cotizacion.getAsegurado().getTipoIdentificacion().getId()=="1" ? "c":cliente.getEntidad().getTipoIdentificacion().getId()=="2" ? "p":"r")
+						.append("</tipoIdentificacion>")
+						.append("<tipoEntidadId>").append(cotizacion.getAsegurado().getTipoEntidad().getId()).append("</tipoEntidadId>")
+						.append("<identificacion>").append(cotizacion.getAsegurado().getIdentificacion()).append("</identificacion>")
+						.append("<genero>f</genero>")
+						.append("<esEmpresa>")
+						.append(cotizacion.getAsegurado().getTipoIdentificacion().getId()=="1" ? "false":cotizacion.getAsegurado().getTipoIdentificacion().getId()=="2" ? "false":cotizacion.getAsegurado().getTipoIdentificacion().getId()=="3"?"false":"true")
+						.append("</esEmpresa>")
+						.append("<DireccionDTO><direccion>")
+							.append("<paisId>6815744</paisId>")
+							.append("<provinciaId>").append(cotizacion.getAsegurado().getDireccions().get(0).getCiudad().getProvincia().getCodigoSbs()).append("</provinciaId>")
+							.append("<ciudadId>").append(cotizacion.getAsegurado().getDireccions().get(0).getCiudad().getId()).append("</ciudadId>")
+					        .append("<cantonId>").append(cantonSBS).append("</cantonId>")
+							.append("<parroquiaId>").append(parroquiaSBS).append("</parroquiaId>")
+							.append("<direccion>")
+							.append(cotizacion.getAsegurado().getDireccions().get(0).getCallePrincipal())
+							.append(" ")
+							.append(cotizacion.getAsegurado().getDireccions().get(0).getNumero())
+							.append(" ")
+							.append(cotizacion.getAsegurado().getDireccions().get(0).getCalleSecundaria())
+							.append("</direccion>")
+							.append("<telefono>").append((cotizacion.getAsegurado().getTelefono()!=null && !cotizacion.getAsegurado().getTelefono().equals("")) ? cotizacion.getAsegurado().getTelefono():"-").append("</telefono>")
+						.append("</direccion></DireccionDTO>")
+					.append("</asegurado>");
 		if(endosoBeneficiario!=null){
 			Entidad entidadBeneficiario=entidadDAO.buscarEntidadPorIdEnsurance(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString());
@@ -735,119 +726,3 @@
 		if(endosoBeneficiario!=null){
 			Entidad entidadBeneficiario=entidadDAO.buscarEntidadPorIdEnsurance(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString());
-			    xml.append("<codigoEntidadFinanciera>").append(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString()).append("</codigoEntidadFinanciera>");
-		}else{
-				xml.append("<codigoEntidadFinanciera>0</codigoEntidadFinanciera>");
-		}	
-		xml.append("<vigenciaDesde>").append(fechaInicioPoliza).append("</vigenciaDesde>")
-		.append("<valorAsegurado>").append(cotizacion.getSumaAseguradaTotal()).append("</valorAsegurado>")
-		.append("<vigenciaHasta>").append(fechaFinalPoliza).append("</vigenciaHasta>")
-		.append("<sucursalId>").append(cotizacion.getPuntoVenta().getSucursal().getSucEnsurance()).append("</sucursalId>")
-		.append("<esZonaAfectada>").append(zonaAfectada).append("</esZonaAfectada>")
-		.append("</detallesPoliza>")
-		.append("<loteCultivo>")
-		.append("<loteCultivoId>-1</loteCultivoId>")
-		.append("<nombre>").append(puntoVenta.getNombre()).append("</nombre>")
-		.append("<valorAsegurado>").append(cotizacion.getSumaAseguradaTotal()).append("</valorAsegurado>")
-		.append("<numeroHectareas>").append(objetoCotizacion.getHectareasLote()).append("</numeroHectareas>")
-		.append("<valorPorHectarea>").append(objetoCotizacion.getCostoProduccion()).append("</valorPorHectarea>")
-		.append("<gpsLoteX>").append(objetoCotizacion.getLatitud()).append("</gpsLoteX>")
-		.append("<gpsLoteY>").append(objetoCotizacion.getLongitud()).append("</gpsLoteY>")
-		.append("<tasa>").append(cotizacion.getTasaProductoValor()).append("</tasa>")
-		.append("<tipoCultivoId>").append(tipoCultivo.getCodEnsurance()).append("</tipoCultivoId>")
-		.append("<diasVigencia>").append(tipoCultivo.getVigenciaDias()).append("</diasVigencia>")
-		.append("<inicioVigenciaCultivo>").append(fechaInicioCultivo).append("</inicioVigenciaCultivo>")
-		.append("<finVigenciaCultivo>").append(fechaFinalCultivo).append("</finVigenciaCultivo>")
-		//.append("<inicioVigenciaCultivo>").append("06/11/2015").append("</inicioVigenciaCultivo>")
-		//.append("<finVigenciaCultivo>").append("06/02/2016").append("</finVigenciaCultivo>")
-		.append("<variedad>").append(objetoCotizacion.getVariedad()).append("</variedad>")
-		.append("<numeroHectareasAsegurables>").append(objetoCotizacion.getHectareasAsegurables()).append("</numeroHectareasAsegurables>")
-		.append("<esTecnificado>").append(agricultorTecnificado).append("</esTecnificado>")
-		//.append("<fechaTentativaSiembra>").append("06/11/2015").append("</fechaTentativaSiembra>")
-		.append("<fechaTentativaSiembra>").append(objetoCotizacion.getFechaSiembra()).append("</fechaTentativaSiembra>")
-		.append("<propiedadId>-1</propiedadId>")
-		.append("</loteCultivo>")
-
-		.append("<cliente>")
-		.append("<id>no</id>")
-				.append("<entidadId>")
-				.append(cliente.getEntidad().getEntEnsurance()==null||cliente.getEntidad().getEntEnsurance().trim().equals("0")?"no":cliente.getEntidad().getEntEnsurance()).append("</entidadId>")
-		.append("<nombres>").append(cliente.getEntidad().getNombres()).append("</nombres>")
-		.append("<apellidos>").append(cliente.getEntidad().getApellidos()==null?" ":cliente.getEntidad().getApellidos()).append("</apellidos>")
-		.append("<tipoIdentificacion>")
-		.append(cliente.getEntidad().getTipoIdentificacion().getId().equals("1") ? "c":cliente.getEntidad().getTipoIdentificacion().equals("2") ? "p":"r")
-		.append("</tipoIdentificacion>")
-		.append("<tipoEntidadId>").append(cliente.getEntidad().getTipoEntidad().getId()).append("</tipoEntidadId>")
-		.append("<identificacion>").append(cliente.getEntidad().getIdentificacion()).append("</identificacion>");
-		Entidad entidadBeneficiario=entidadDAO.buscarEntidadPorIdEnsurance(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString());
-		if(!CorreoElectronico.trim().equalsIgnoreCase(""))
-			xml.append("<email>").append(CorreoElectronico).append("</email>");
-		else
-			xml.append("<email>").append(cliente.getEntidad().getMail()).append("</email>");
-		xml.append("<genero>f</genero>")
-		.append("<esEmpresa>")
-		.append(cliente.getEntidad().getTipoIdentificacion().getId().equals("1") ? "false":cliente.getEntidad().getTipoIdentificacion().getId().equals("2") ? "false":cliente.getEntidad().getTipoIdentificacion().getId().equals("3")?"false":"true")
-		.append("</esEmpresa>")
-		.append("<DireccionDTO><direccion>")
-		.append("<paisId>6815744</paisId>")
-		
-		.append("<provinciaId>").append(cliente.getEntidad().getDireccions().get(0).getCiudad().getProvincia().getCodigoSbs()).append("</provinciaId>")
-		.append("<ciudadId>").append(cliente.getEntidad().getDireccions().get(0).getCiudad().getId()).append("</ciudadId>");
-		if(cliente.getEntidad().getDireccions().get(0).getParroquia()!=null){
-			xml.append("<cantonId>").append(cliente.getEntidad().getDireccions().get(0).getParroquia().getCanton().getId()).append("</cantonId>")
-			.append("<parroquiaId>").append(cliente.getEntidad().getDireccions().get(0).getParroquia().getId()).append("</parroquiaId>");
-		}
-		else{
-			xml.append("<cantonId>").append("1201").append("</cantonId>")
-			.append("<parroquiaId>").append("120153").append("</parroquiaId>");
-		}
-		xml.append("<direccion>")
-		
-		.append(cliente.getEntidad().getDireccions().get(0).getCallePrincipal())
-		.append(" ")
-		.append(cliente.getEntidad().getDireccions().get(0).getNumero())
-		.append(" ")
-		.append(cliente.getEntidad().getDireccions().get(0).getCalleSecundaria())
-		.append("</direccion>")
-		.append("<telefono>").append((cliente.getEntidad().getTelefono()!=null && !cliente.getEntidad().getTelefono().equals("")) ? cliente.getEntidad().getTelefono():"-").append("</telefono>")
-		.append("</direccion></DireccionDTO>")
-		.append("</cliente>")
-		.append("<asegurado>")
-		.append("<id>no</id>")
-		.append("<entidadId>").append(cotizacion.getAsegurado().getEntEnsurance()).append("</entidadId>")
-		.append("<nombres>").append(cotizacion.getAsegurado().getNombres()).append("</nombres>")
-		.append("<apellidos>").append(cotizacion.getAsegurado().getApellidos()).append("</apellidos>")
-		.append("<tipoIdentificacion>")
-		.append(cotizacion.getAsegurado().getTipoIdentificacion().getId()=="1" ? "c":cliente.getEntidad().getTipoIdentificacion().getId()=="2" ? "p":"r")
-		.append("</tipoIdentificacion>")
-		.append("<tipoEntidadId>").append(cotizacion.getAsegurado().getTipoEntidad().getId()).append("</tipoEntidadId>")
-		.append("<identificacion>").append(cotizacion.getAsegurado().getIdentificacion()).append("</identificacion>")
-		.append("<genero>f</genero>")
-		.append("<esEmpresa>")
-		.append(cotizacion.getAsegurado().getTipoIdentificacion().getId()=="1" ? "false":cotizacion.getAsegurado().getTipoIdentificacion().getId()=="2" ? "false":cotizacion.getAsegurado().getTipoIdentificacion().getId()=="3"?"false":"true")
-		.append("</esEmpresa>")
-		.append("<DireccionDTO><direccion>")
-		.append("<paisId>6815744</paisId>")
-		.append("<provinciaId>").append(cotizacion.getAsegurado().getDireccions().get(0).getCiudad().getProvincia().getCodigoSbs()).append("</provinciaId>")
-		.append("<ciudadId>").append(cotizacion.getAsegurado().getDireccions().get(0).getCiudad().getId()).append("</ciudadId>");
-		if(cotizacion.getAsegurado().getDireccions().get(0).getParroquia()!=null){
-			xml.append("<cantonId>").append(cotizacion.getAsegurado().getDireccions().get(0).getParroquia().getCanton().getId()).append("</cantonId>")
-			.append("<parroquiaId>").append(cotizacion.getAsegurado().getDireccions().get(0).getParroquia().getId()).append("</parroquiaId>");
-		}
-		else{
-			xml.append("<cantonId>").append("1201").append("</cantonId>")
-			.append("<parroquiaId>").append("120153").append("</parroquiaId>");
-		}
-
-		xml.append("<direccion>")
-		.append(cotizacion.getAsegurado().getDireccions().get(0).getCallePrincipal())
-		.append(" ")
-		.append(cotizacion.getAsegurado().getDireccions().get(0).getNumero())
-		.append(" ")
-		.append(cotizacion.getAsegurado().getDireccions().get(0).getCalleSecundaria())
-		.append("</direccion>")
-		.append("<telefono>").append((cotizacion.getAsegurado().getTelefono()!=null && !cotizacion.getAsegurado().getTelefono().equals("")) ? cotizacion.getAsegurado().getTelefono():"-").append("</telefono>")
-		.append("</direccion></DireccionDTO>")
-		.append("</asegurado>");
-		if(endosoBeneficiario!=null){
-			entidadBeneficiario=entidadDAO.buscarEntidadPorIdEnsurance(endosoBeneficiario.getBeneficiario().getCodigoEnsurance().toString());
 			xml.append("<beneficiarios>")
@@ -853,28 +728,28 @@
 			xml.append("<beneficiarios>")
-			.append("<id>no</id>")
-			.append("<entidadId>").append(endosoBeneficiario.getBeneficiario().getCodigoEnsurance()).append("</entidadId>")
-			.append("<nombres>").append(endosoBeneficiario.getBeneficiario().getNombre()).append("</nombres>")
-			.append("<apellidos>").append(endosoBeneficiario.getBeneficiario().getNombre()).append("</apellidos>")
-			.append("<tipoIdentificacion>")
-			.append(entidadBeneficiario.getTipoIdentificacion().getId()=="1" ? "c":entidadBeneficiario.getTipoIdentificacion().getId()=="2" ? "p":"r")
-			.append("</tipoIdentificacion>")
-			.append("<tipoEntidadId>").append(entidadBeneficiario.getTipoEntidad().getId()).append("</tipoEntidadId>")
-			.append("<identificacion>").append(entidadBeneficiario.getIdentificacion()).append("</identificacion>")
-			.append("<esEmpresa>")
-			.append(entidadBeneficiario.getTipoIdentificacion().getId()=="1" ? "false":entidadBeneficiario.getTipoIdentificacion().getId()=="2" ? "false":entidadBeneficiario.getTipoIdentificacion().getId()=="3"?"false":"true")
-			.append("</esEmpresa>")
-			.append("<DireccionDTO>")
-			.append("<direccion>")
-			.append("<paisId>-1</paisId>")
-			.append("<provinciaId>-1</provinciaId>")
-			.append("<cantonId>-1</cantonId>")
-			.append("<parroquiaId>-1</parroquiaId>")
-			.append("<ciudadId>-1</ciudadId>")
-			.append("<direccion>-1</direccion>")
-			.append("<telefono>-1</telefono>")
-			.append("</direccion>")
-			.append("</DireccionDTO>")
+					.append("<id>no</id>")
+					.append("<entidadId>").append(endosoBeneficiario.getBeneficiario().getCodigoEnsurance()).append("</entidadId>")
+					.append("<nombres>").append(endosoBeneficiario.getBeneficiario().getNombre()).append("</nombres>")
+					.append("<apellidos>").append(endosoBeneficiario.getBeneficiario().getNombre()).append("</apellidos>")
+					.append("<tipoIdentificacion>")
+					.append(entidadBeneficiario.getTipoIdentificacion().getId()=="1" ? "c":entidadBeneficiario.getTipoIdentificacion().getId()=="2" ? "p":"r")
+					.append("</tipoIdentificacion>")
+					.append("<tipoEntidadId>").append(entidadBeneficiario.getTipoEntidad().getId()).append("</tipoEntidadId>")
+					.append("<identificacion>").append(entidadBeneficiario.getIdentificacion()).append("</identificacion>")
+					.append("<esEmpresa>")
+					.append(entidadBeneficiario.getTipoIdentificacion().getId()=="1" ? "false":entidadBeneficiario.getTipoIdentificacion().getId()=="2" ? "false":entidadBeneficiario.getTipoIdentificacion().getId()=="3"?"false":"true")
+					.append("</esEmpresa>")
+					.append("<DireccionDTO>")
+					.append("<direccion>")
+					.append("<paisId>-1</paisId>")
+					.append("<provinciaId>-1</provinciaId>")
+					.append("<cantonId>-1</cantonId>")
+					.append("<parroquiaId>-1</parroquiaId>")
+					.append("<ciudadId>-1</ciudadId>")
+					.append("<direccion>-1</direccion>")
+					.append("<telefono>-1</telefono>")
+					.append("</direccion>")
+					.append("</DireccionDTO>")
 			.append("</beneficiarios>");
 		}
 		else{
 			xml.append("<beneficiarios>")
@@ -877,27 +752,27 @@
 			.append("</beneficiarios>");
 		}
 		else{
 			xml.append("<beneficiarios>")
-			.append("<id>no</id>")
-			.append("<entidadId>-1</entidadId>")
-			.append("<nombres>-1</nombres>")
-			.append("<apellidos>-1</apellidos>")
-			.append("<tipoIdentificacion>-1</tipoIdentificacion>")
-			.append("<tipoEntidadId>-1</tipoEntidadId>")
-			.append("<identificacion>-1</identificacion>")
-			.append("<esEmpresa>-1</esEmpresa>")
-			.append("<DireccionDTO>")
-			.append("<direccion>")
-			.append("<paisId>-1</paisId>")
-			.append("<provinciaId>-1</provinciaId>")
-			.append("<cantonId>-1</cantonId>")
-			.append("<parroquiaId>-1</parroquiaId>")
-			.append("<ciudadId>-1</ciudadId>")
-			.append("<direccion>-1</direccion>")
-			.append("<telefono>-1</telefono>")
-			.append("</direccion>")
-			.append("</DireccionDTO>")
-			.append("</beneficiarios>");
+				.append("<id>no</id>")
+				.append("<entidadId>-1</entidadId>")
+				.append("<nombres>-1</nombres>")
+				.append("<apellidos>-1</apellidos>")
+				.append("<tipoIdentificacion>-1</tipoIdentificacion>")
+				.append("<tipoEntidadId>-1</tipoEntidadId>")
+				.append("<identificacion>-1</identificacion>")
+				.append("<esEmpresa>-1</esEmpresa>")
+				.append("<DireccionDTO>")
+				.append("<direccion>")
+				.append("<paisId>-1</paisId>")
+				.append("<provinciaId>-1</provinciaId>")
+				.append("<cantonId>-1</cantonId>")
+				.append("<parroquiaId>-1</parroquiaId>")
+				.append("<ciudadId>-1</ciudadId>")
+				.append("<direccion>-1</direccion>")
+				.append("<telefono>-1</telefono>")
+				.append("</direccion>")
+				.append("</DireccionDTO>")
+				.append("</beneficiarios>");
 		}
 		xml.append("</superObjetoXML>");
 		
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriExportarDatos.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriExportarDatos.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriExportarDatos.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriExportarDatos.java
@@ -92,7 +92,7 @@
 	 */
 	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 		
-		//Cotizador 1.- Credife 2.- Cooprogreso
+		//Cotizador 1.- Credife 2.- Cooprogreso 3.- Agripac
 		String Cotizador = request.getParameter("cotizador") == null ? "" : request.getParameter("cotizador");
 		
 		//JSONObject retorno=new JSONObject();
@@ -119,27 +119,7 @@
 		TransporteData nuevaData=new TransporteData();
 
 
-		//Exportar los datos de los tipos de cultivo
-		/*AgriTipoCultivoDAO agriTipoCultivoDAO = new AgriTipoCultivoDAO();
-		List<AgriTipoCultivo> results = agriTipoCultivoDAO.BuscarTodos();
-		List<TipoCultivo> listadoTipoCultivo=new ArrayList<TipoCultivo>(); 
-		for (AgriTipoCultivo tipoCultivo: results)
-		{
-			TipoCultivo nuevoTipo=new TipoCultivo();
-			nuevoTipo.setTipoCultivoId(tipoCultivo.getTipoCultivoId());
-			nuevoTipo.setNombre(tipoCultivo.getNombre());
-			nuevoTipo.setTipo(tipoCultivo.getTipo());
-			nuevoTipo.setVigenciaDias(tipoCultivo.getVigenciaDias());
-			//TODO: se agrega el precio de ajuste y nombre de plantilla 
-			nuevoTipo.setPrecioAjuste(tipoCultivo.getPrecioAjuste());
-			nuevoTipo.setPrecioAjuste2(tipoCultivo.getPrecioAjuste2());
-			nuevoTipo.setUnidadMedida(tipoCultivo.getUnidadMedida());
-			nuevoTipo.setUnidadMedida2(tipoCultivo.getUnidadMedida2());
-			
-			//nuevoTipo.setNombrePlantilla(tipoCultivo.getNombrePlantilla());
-			listadoTipoCultivo.add(nuevoTipo);
-		}*/
-		
+				
 		AgriCultivoCanalDAO agriCultivoCanalDAO= new AgriCultivoCanalDAO();
 		List<TipoCultivo> listadoTipoCultivo=new ArrayList<TipoCultivo>();
 		switch (Cotizador) {
@@ -179,9 +159,27 @@
 				listadoTipoCultivo.add(nuevoTipo);
 			}
 			break;
+		case "3":
+			
+			List<AgriCultivoCanal> agriCultivoCanalAgripac= agriCultivoCanalDAO.buscarTipoCalculo(new BigInteger("31"));
+			for (AgriCultivoCanal tipoCultivo: agriCultivoCanalAgripac)
+			{
+				TipoCultivo nuevoTipo=new TipoCultivo();
+				nuevoTipo.setTipoCultivoId(tipoCultivo.getTipoCultivoId());
+				nuevoTipo.setNombre(tipoCultivo.getNombre());
+				nuevoTipo.setTipo(tipoCultivo.getTipo());
+				nuevoTipo.setVigenciaDias(tipoCultivo.getVigenciaDias());
+				//TODO: se agrega el precio de ajuste y nombre de plantilla 
+				nuevoTipo.setPrecioAjuste(tipoCultivo.getPrecioAjuste());
+				nuevoTipo.setPrecioAjuste2(tipoCultivo.getPrecioAjuste2());
+				nuevoTipo.setUnidadMedida(tipoCultivo.getUnidadMedida());
+				nuevoTipo.setUnidadMedida2(tipoCultivo.getUnidadMedida2());
+				listadoTipoCultivo.add(nuevoTipo);
+			}
+			break;
 		default:
 			break;
 		}
 		
 		//Exportar los datos de las reglas
 		AgriReglaDAO agriReglaDAO = new AgriReglaDAO();
@@ -182,10 +180,13 @@
 		default:
 			break;
 		}
 		
 		//Exportar los datos de las reglas
 		AgriReglaDAO agriReglaDAO = new AgriReglaDAO();
-		//List<AgriRegla> listadoAgriReglas = agriReglaDAO.BuscarTodos();
+		
+		PuntoVentaDAO puntoVentaRefDAO = new PuntoVentaDAO();
+		PuntoVenta puntoVentaRef= new PuntoVenta();
+		
 		String NombreCotizado="";
 		switch (Cotizador) {
 		case "1":
@@ -189,8 +190,8 @@
 		String NombreCotizado="";
 		switch (Cotizador) {
 		case "1":
-			NombreCotizado="CREDIFE";
+			NombreCotizado="CREDIFE";			
 			break;
 		case "2":
 			NombreCotizado="COOPROGRESO";
 			break;
@@ -193,8 +194,11 @@
 			break;
 		case "2":
 			NombreCotizado="COOPROGRESO";
 			break;
+		case "3":
+			NombreCotizado="AGRIPAC";
+			break;
 		default:
 			break;
 		}
 		
@@ -197,7 +201,9 @@
 		default:
 			break;
 		}
 		
+		puntoVentaRef=puntoVentaRefDAO.buscarPorNombre(NombreCotizado);
+		
 		List<AgriRegla> listadoAgriReglas = agriReglaDAO.BuscarPorTipoCalculoNombre(NombreCotizado);
 		///TODO: Se obtiene unicamante los que son para el offline 
 		//List<AgriRegla> listadoAgriReglas = agriReglaDAO.BuscarPorTipoCalculoNombre("GENERAL");
@@ -280,19 +286,6 @@
 			listaParametros.add(nuevoParametro);
 		}
 
-		//Exportar datos de las parroquias
-		//enviamos los que estan en la tabla agriparroquias ya que es la mas completa que se tiene, hasta que se iguale correctamente la tabla principal de cantones
-		/*ParroquiaDAO parroquiaDAO=new ParroquiaDAO();
-		List<Parroquia> listadoParroquias = parroquiaDAO.buscarTodos();
-		List<com.qbe.cotizador.servlets.producto.agricola.Parroquia> listaParroquias=new ArrayList<com.qbe.cotizador.servlets.producto.agricola.Parroquia>();
-		for(Parroquia parroquiaActual:listadoParroquias){
-			com.qbe.cotizador.servlets.producto.agricola.Parroquia nuevoParroquia=new com.qbe.cotizador.servlets.producto.agricola.Parroquia();
-			nuevoParroquia.setCantonId(parroquiaActual.getCanton().getId());
-			nuevoParroquia.setParroquiaId(parroquiaActual.getId());
-			nuevoParroquia.setNombre(parroquiaActual.getNombre());
-			listaParroquias.add(nuevoParroquia);
-		}*/
-
 		AgriParroquiaDAO parroquiaDAO=new AgriParroquiaDAO();
 		List<AgriParroquia> listadoParroquias = parroquiaDAO.buscarTodos();
 		List<com.qbe.cotizador.servlets.producto.agricola.Parroquia> listaParroquias=new ArrayList<com.qbe.cotizador.servlets.producto.agricola.Parroquia>();
@@ -370,5 +363,6 @@
 		nuevoParametroGeneral.setDiasValidacionCultivo(Integer.parseInt(DiasValidacionCultivo));
 		nuevoParametroGeneral.setMailFactuacionElectronica(MailFacturacionElectronica);
 		
-		//Exportar los datos de los paramatros por canal para el nombre de la plantilla
+		//Exportar los datos de los parametros por canal para el nombre de la plantilla
+		
 		AgriParametroXCanalDAO agriParametroXCanalDAO = new AgriParametroXCanalDAO();
@@ -374,5 +368,5 @@
 		AgriParametroXCanalDAO agriParametroXCanalDAO = new AgriParametroXCanalDAO();
-		List<AgriParametroXCanal> resultsPxC = agriParametroXCanalDAO.BuscarTodos();
+		List<AgriParametroXCanal> resultsPxC = agriParametroXCanalDAO.ObtenerPorPuntoVenta(new BigInteger(puntoVentaRef.getId()));
 		List<ParametrosXCanal> listadoParametrosXCanal=new ArrayList<ParametrosXCanal>(); 
 		for (AgriParametroXCanal parametroXCanal: resultsPxC)
 			{
@@ -385,28 +379,7 @@
 				listadoParametrosXCanal.add(nuevoParametroCanal);
 			}
 		
-		//TODO: Cargar plantillas
-		/*List<com.qbe.cotizador.servlets.producto.agricola.PlantillasReporte> listaPlantillaReporte=new ArrayList<com.qbe.cotizador.servlets.producto.agricola.PlantillasReporte>();
-		for (ParametrosXCanal parametroPorCanal :listadoParametrosXCanal){
-			com.qbe.cotizador.servlets.producto.agricola.PlantillasReporte plantillaRep = new com.qbe.cotizador.servlets.producto.agricola.PlantillasReporte();
-			String html="";
-			String PlantillaName="";
-			PlantillaName=parametroPorCanal.getNombrePlantilla();
-			if (PlantillaName==null)
-				PlantillaName="TipoCultivoMaiz";
-			try{
-				String rutaPlantilla = this.getServletContext().getRealPath("") + "/static/plantillas/"+PlantillaName+".html";
-				html = Files.toString(new File(rutaPlantilla), Charsets.UTF_8);
-			}
-			catch(IOException ex){
-			}
-			plantillaRep.setNombrePlantilla(PlantillaName);
-			plantillaRep.setPlantilla(html);
-			listaPlantillaReporte.add(plantillaRep);
-		}*/
-		
-		//nuevoParametroGeneral.setTextoPlantilla(html);
-		
+				
 		nuevaData.setParametrosGenerales(nuevoParametroGeneral);
 		nuevaData.setCantones(listaCantones);
 		nuevaData.setCiclos(listaCiclos);
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriParametroXCanalController.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriParametroXCanalController.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriParametroXCanalController.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriParametroXCanalController.java
@@ -105,7 +105,7 @@
 				parametroXCanal.setPlantillaNombre(plantillaNombre);
 			if(!FileName.equals("")){
 				
-				String rutaPlantilla = this.getServletContext().getRealPath("")+ "/static/plantillas/Agricola/PlantillasCultivos/" + FileName;
+				String rutaPlantilla = this.getServletContext().getRealPath("")+File.separator +"static"+File.separator +"plantillas"+File.separator +"Agricola"+File.separator +"PlantillasCultivos"+File.separator + FileName;
 				System.out.println("Entra el html "+rutaPlantilla); 
 				File f1=new File(rutaPlantilla);
 				 FileInputStream f_in=new FileInputStream(f1);
@@ -135,7 +135,7 @@
 							String rutaPlantilla = AgriSucreNotificacionErrores.class.getProtectionDomain().getCodeSource()
 									.getLocation().getPath();
 							rutaPlantilla=rutaPlantilla.replace("AgriSucreNotificacionErrores.class", "");
-							String rutaRelativaReporte="../../../../../../../../static/plantillas/Agricola/PlantillasCultivos/";
+							String rutaRelativaReporte=".."+File.separator +".."+File.separator +".."+File.separator +".."+File.separator +".."+File.separator +".."+File.separator +".."+File.separator +".."+File.separator +"static"+File.separator +"plantillas"+File.separator +"Agricola"+File.separator +"PlantillasCultivos"+File.separator;
 							rutaPlantilla=rutaPlantilla+rutaRelativaReporte;
 							System.out.println("Ruta!:"+rutaPlantilla);
 							String fileName = item.getName();
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriProcesarCotizacionOffline.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriProcesarCotizacionOffline.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriProcesarCotizacionOffline.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriProcesarCotizacionOffline.java
@@ -84,8 +84,7 @@
 		catch(Exception e){
 			e.printStackTrace();
 		}		
-		
-		
+		//Inicia el proceso de cotizacion
 		try{
 			EntidadDAO entidadDAO = new EntidadDAO();
 			ClienteDAO clienteDAO = new ClienteDAO();
@@ -98,7 +97,6 @@
 			TipoObjetoDAO tipoObjetoDAO = new TipoObjetoDAO();
 			UsuarioDAO usuarioDAO=new UsuarioDAO();
 			EstadoDAO estadoDAO=new EstadoDAO();
-	
 			Entidad entidad = new Entidad();
 			Cliente cliente = new Cliente();
 			Cotizacion cotizacion = new Cotizacion();
@@ -102,10 +100,9 @@
 			Entidad entidad = new Entidad();
 			Cliente cliente = new Cliente();
 			Cotizacion cotizacion = new Cotizacion();
-	
 			CotizacionTransaction cotizacionTransaction = new CotizacionTransaction(); 
 			CotizacionDetalleTransaction cotizacionDetalleTransaction = new CotizacionDetalleTransaction();
 			EntidadTransaction entidadTransaction = new EntidadTransaction();
 			ClienteTransaction clienteTransaction = new ClienteTransaction();
 			AgriObjetoCotizacionTransaction agriObjetoCotizacionTransaction = new AgriObjetoCotizacionTransaction();
 	
@@ -106,9 +103,10 @@
 			CotizacionTransaction cotizacionTransaction = new CotizacionTransaction(); 
 			CotizacionDetalleTransaction cotizacionDetalleTransaction = new CotizacionDetalleTransaction();
 			EntidadTransaction entidadTransaction = new EntidadTransaction();
 			ClienteTransaction clienteTransaction = new ClienteTransaction();
 			AgriObjetoCotizacionTransaction agriObjetoCotizacionTransaction = new AgriObjetoCotizacionTransaction();
 	
+			//Busco si la entidad existe
 			entidad = entidadDAO.buscarEntidadPorIdentificacion(nuevaCotizacion.getNumeroIdentificacion());
 	
 			if(!nuevaCotizacion.getNumeroIdentificacion().equals(""))
@@ -140,8 +138,9 @@
 				entidad.setTipoEntidad(tipoEntidadDAO.buscarPorId("2"));
 			}
 	
+			//Si el cliente existe solo lo actualizo, si no lo creo!!
 			if(entidad.getId()==null)
 				entidad=entidadTransaction.crear(entidad);
 			else
 				entidad=entidadTransaction.editar(entidad);
 	
@@ -143,7 +142,8 @@
 			if(entidad.getId()==null)
 				entidad=entidadTransaction.crear(entidad);
 			else
 				entidad=entidadTransaction.editar(entidad);
 	
+			//busco el cliente 
 			cliente = clienteDAO.buscarPorEntidadId(entidad);
 	
@@ -148,5 +148,6 @@
 			cliente = clienteDAO.buscarPorEntidadId(entidad);
 	
+			//si no hay el cliente lo creo caso contrario no hago nada
 			if(cliente.getId() == null){
 				ActividadEconomica actividad = new ActividadEconomica();
 				ActividadEconomicaDAO actividadDAO = new ActividadEconomicaDAO();
@@ -150,6 +151,5 @@
 			if(cliente.getId() == null){
 				ActividadEconomica actividad = new ActividadEconomica();
 				ActividadEconomicaDAO actividadDAO = new ActividadEconomicaDAO();
-				actividad = actividadDAO.buscarPorNombre("Ninguno");
-	
+				actividad = actividadDAO.buscarPorNombre("Ninguno");	
 				Cliente clienteNuevo = new Cliente();
@@ -155,5 +155,4 @@
 				Cliente clienteNuevo = new Cliente();
-	
 				clienteNuevo.setEntidad(entidad);
 				clienteNuevo.setActividadEconomica(actividad);
 				clienteNuevo.setActivo(true);
@@ -157,6 +156,5 @@
 				clienteNuevo.setEntidad(entidad);
 				clienteNuevo.setActividadEconomica(actividad);
 				clienteNuevo.setActivo(true);
-				cliente=clienteTransaction.crear(clienteNuevo);
-				//falta en codigo del ensurance
+				cliente=clienteTransaction.crear(clienteNuevo);				
 			}
@@ -162,8 +160,3 @@
 			}
-			
-			///TODO: Llenar el asegurado en base a la entidad cliente 
-					cotizacion.setAsegurado(entidad);
-			///
-			
-			//if(!puntoVentaId.equals(""))
+			cotizacion.setAsegurado(entidad);
 			PuntoVenta puntoVenta = pvDAO.buscarPorId(nuevaCotizacion.getPuntoVentaId()); //TODO: Quemado punto de venta
@@ -169,3 +162,2 @@
 			PuntoVenta puntoVenta = pvDAO.buscarPorId(nuevaCotizacion.getPuntoVentaId()); //TODO: Quemado punto de venta
-	
 			cotizacion.setPuntoVenta(puntoVenta); 
@@ -171,3 +163,3 @@
 			cotizacion.setPuntoVenta(puntoVenta); 
-	
+			//grupo por producto Agricola
 			GrupoPorProducto grupoPorProducto = grupoPorProductoDAO.buscarPorId("177");
@@ -173,3 +165,2 @@
 			GrupoPorProducto grupoPorProducto = grupoPorProductoDAO.buscarPorId("177");
-	
 			ProductoXPuntoVenta pxpv=productoPorPuntoVentaDAO.buscarPorGrupoPuntoVenta(grupoPorProducto, puntoVenta);
@@ -175,4 +166,3 @@
 			ProductoXPuntoVenta pxpv=productoPorPuntoVentaDAO.buscarPorGrupoPuntoVenta(grupoPorProducto, puntoVenta);
-	
 			cotizacion.setProductoXPuntoVentaId(new BigInteger(pxpv.getId()));
 			cotizacion.setVigenciaPoliza(vpDAO.buscarPorId("1"));										
@@ -177,7 +167,6 @@
 			cotizacion.setProductoXPuntoVentaId(new BigInteger(pxpv.getId()));
 			cotizacion.setVigenciaPoliza(vpDAO.buscarPorId("1"));										
-						
 			cotizacion.setClienteId(BigInteger.valueOf(Long.valueOf(cliente.getId())));
 			cotizacion.setGrupoProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getGrupoProducto().getId())));
 			cotizacion.setGrupoPorProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getId())));
 			cotizacion.setProducto(grupoPorProducto.getProducto());
@@ -180,6 +169,5 @@
 			cotizacion.setClienteId(BigInteger.valueOf(Long.valueOf(cliente.getId())));
 			cotizacion.setGrupoProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getGrupoProducto().getId())));
 			cotizacion.setGrupoPorProductoId(BigInteger.valueOf(Long.valueOf(grupoPorProducto.getId())));
 			cotizacion.setProducto(grupoPorProducto.getProducto());
-			// Agregamos el tipo de  objeto a la cotización
 			cotizacion.setTipoObjeto(tipoObjetoDAO.buscarPorNombre("Agricola"));
@@ -185,5 +173,4 @@
 			cotizacion.setTipoObjeto(tipoObjetoDAO.buscarPorNombre("Agricola"));
-			//cotizacion.setEstado(estadoDAO.buscarPorNombre("Pendiente de Emitir","Cotizacion"));
 			cotizacion.setUsuario(usuarioDAO.buscarPorLogin("e63_1708971229")); //TODO: Quemado usuario
 			java.sql.Timestamp sq = new java.sql.Timestamp(nuevaCotizacion.getFechaCreacionCotizacion().getTime());
 			cotizacion.setFechaElaboracion(sq);
@@ -187,12 +174,4 @@
 			cotizacion.setUsuario(usuarioDAO.buscarPorLogin("e63_1708971229")); //TODO: Quemado usuario
 			java.sql.Timestamp sq = new java.sql.Timestamp(nuevaCotizacion.getFechaCreacionCotizacion().getTime());
 			cotizacion.setFechaElaboracion(sq);
-	
-			//Pongo los valores calculados por cotización siempre y cuando sean los que vienen calculados
-			/*cotizacion.setImpDerechoEmision(nuevaCotizacion.getDerechoEmision());
-			cotizacion.setImpSeguroCampesino(nuevaCotizacion.getSeguroCampesino());
-			cotizacion.setImpSuperBancos(nuevaCotizacion.getSuperBancos());
-			cotizacion.setImpIva(nuevaCotizacion.getIva());
-			cotizacion.setValorDescuento(0);
-			cotizacion.setTotalFactura(nuevaCotizacion.getTotalPrima());*/
 			
@@ -198,5 +177,28 @@
 			
-			/*Aumento la validación que los valores sean distintos de null*/
+			/***VARIABLES IMPORTANTES PARA LA EMISION****/
+			/*PROCESO DE CALCULO DE COMPONENTES*/
+
+	        String comision="";
+	        String agente="";
+			VariableSistemaDAO variableDAO= new VariableSistemaDAO();
+			VariableSistema variablesistema = new VariableSistema();
+	        if(puntoVenta.getNombre().equals("COOPROGRESO")){
+	        	comision="COMISION_COOPROGRESO";
+	        	agente="AGENTE_COOPROGRESO";
+	        }else{
+	        	if(puntoVenta.getNombre().equals("CREDIFE")){
+		        	comision="COMISION_BANCACOMUNAL";
+		        	agente="AGENTE_BANCACOMUNAL";
+	        	}else{
+	        		comision="COMISION_AGRIPAC";
+		        	agente="AGENTE_AGRIPAC";
+	        	}
+	        }
+	        variablesistema=variableDAO.buscarPorNombre(comision);
+	        cotizacion.setAgenteId(new BigInteger(variablesistema.getValor()));//%COMISION DE AGENTE
+	        variablesistema=variableDAO.buscarPorNombre(agente);
+	        cotizacion.setPorcentajeComision(Double.parseDouble(variablesistema.getValor()));//%CUAL DE AGENTE
+			
 			if(nuevaCotizacion.getDerechoEmision() == null)
 				cotizacion.setImpDerechoEmision(0.0);
 			else
@@ -217,40 +219,6 @@
 			else
 				cotizacion.setImpIva(nuevaCotizacion.getIva());		
 	
-			cotizacion.setValorDescuento(0);
-			
-			//PORCENTAJE DE COMISION PARA LA EMISIONS DEL AGENTE
-			/*PROCESO DE CALCULO DE COMPONENTES*/
-			TipoVariableDAO tipoVariableDao = new TipoVariableDAO();
-	        TipoVariable tipoVariable = tipoVariableDao.buscarPorId("3");
-	        VariableSistemaDAO variableDAO= new VariableSistemaDAO();
-	        List<VariableSistema> variablesistema = variableDAO.buscarTipoVariable(tipoVariable);
-	       
-	        String comision="";
-	        String agente="";
-	        if(puntoVenta.getNombre().equals("COOPROGRESO")){
-	        	comision="COMISION_COOPROGRESO";
-	        	agente="AGENTE_COOPROGRESO";
-	        }else{
-	        	comision="COMISION_BANCACOMUNAL";
-	        	agente="AGENTE_BANCACOMUNAL";
-	        }
-	        
-	        if(variablesistema.size() > 0) {
-	        	for(VariableSistema variable : variablesistema) {
-	        		
-	        		if(variable.getNombre().equals(comision)){
-	        			 cotizacion.setPorcentajeComision(Double.parseDouble(variable.getValor()));//%COMISION DE AGENTE
-	        		}  
-	        		
-	        		if(variable.getNombre().equals(agente)){
-	        			 cotizacion.setAgenteId(new BigInteger(variable.getValor()));//%CUAL ES EL AGENTE
-	        		}  
-	        		
-	        		
-	        	}
-	        }		
-			
 			if (nuevaCotizacion.getAnalisisMontoAsegurado()==null)
 				cotizacion.setSumaAseguradaTotal(0.0);
 			else 
@@ -272,4 +240,5 @@
 					cotizacion.setEstado(estadoDAO.buscarPorNombre("Pendiente Aprobar","Cotizacion"));
 				cotizacion.setTotalFactura(nuevaCotizacion.getTotalPrima());		
 			}
+			
 			cotizacion.setEtapaWizard(3);
@@ -275,5 +244,6 @@
 			cotizacion.setEtapaWizard(3);
-	
+			cotizacion.setValorDescuento(0);
+			
 			if(cotizacion.getId()!=null)
 				cotizacion = cotizacionTransaction.editar(cotizacion);	
 			else
@@ -306,7 +276,6 @@
 			agriObjetoCotizacion.setLongitud(new Float(nuevaCotizacion.getLongitud()));
 			agriObjetoCotizacion.setHectareasAsegurables(new Float(nuevaCotizacion.getHectareasAsegurables()));
 			agriObjetoCotizacion.setMontoCredito(new Float(nuevaCotizacion.getMontoCredito()));
-			//agriObjetoCotizacion.setSucursalCanalId(new BigInteger(nuevaCotizacion.getSucursalCanalId));
 			agriObjetoCotizacion.setFechaCredito(nuevaCotizacion.getFechaCredito());
 			agriObjetoCotizacion.setFechaSiembra(nuevaCotizacion.getFechaSiembra());
 			agriObjetoCotizacion.setObjetoOfflineId(nuevaCotizacion.getObjetoCotizacionId());
@@ -310,7 +279,6 @@
 			agriObjetoCotizacion.setFechaCredito(nuevaCotizacion.getFechaCredito());
 			agriObjetoCotizacion.setFechaSiembra(nuevaCotizacion.getFechaSiembra());
 			agriObjetoCotizacion.setObjetoOfflineId(nuevaCotizacion.getObjetoCotizacionId());
-			//agriObjetoCotizacion.setAltitudNivelMar(new Float(nuevaCotizacion.getAltitudNivelMar()));
 			agriObjetoCotizacion.setUsuarioOffline(nuevaCotizacion.getUsuarioNombre()+" "+nuevaCotizacion.getUsuarioApellido());
 			agriObjetoCotizacion.setTipoOrigen(tipoOrigen);
 			///TODO: Nuevos campos en la tabla cotizacion 
@@ -320,6 +288,5 @@
 			double CostoProduccion=sumaAsegurada/NumeroHectareas;
 			BigDecimal a = new BigDecimal(""+CostoProduccion);
 			BigDecimal roundOff = a.setScale(2, BigDecimal.ROUND_HALF_EVEN);
-			
 			agriObjetoCotizacion.setCostoProduccion(Float.parseFloat(""+roundOff));
 			agriObjetoCotizacion.setCostoProduccionQBE(Float.parseFloat(""+roundOff));
@@ -324,6 +291,5 @@
 			agriObjetoCotizacion.setCostoProduccion(Float.parseFloat(""+roundOff));
 			agriObjetoCotizacion.setCostoProduccionQBE(Float.parseFloat(""+roundOff));
-			
 			agriObjetoCotizacion.setObservacion(nuevaCotizacion.getObservaciones());
 			if (nuevaCotizacion.getReglaId()!=null || !nuevaCotizacion.getReglaId().equals(""))
 				agriObjetoCotizacion.setTipoCalculo(nuevaCotizacion.getReglaId().toString());
@@ -336,7 +302,6 @@
 			AgriCotizacionMaxDAO busquedaMax = new AgriCotizacionMaxDAO();
 			AgriCotizacionMax numMaximo=busquedaMax.buscarTodos();
 			int numeroActual=numMaximo.getMaximo().intValue();
-			
 			agriObjetoCotizacion.setIdCotizacion2(new BigInteger(""+(numeroActual+1)));
 			agriObjetoCotizacion.setConfirEmiCanal(true);
 			agriObjetoCotizacion=agriObjetoCotizacionTransaction.crear(agriObjetoCotizacion);
@@ -340,8 +305,6 @@
 			agriObjetoCotizacion.setIdCotizacion2(new BigInteger(""+(numeroActual+1)));
 			agriObjetoCotizacion.setConfirEmiCanal(true);
 			agriObjetoCotizacion=agriObjetoCotizacionTransaction.crear(agriObjetoCotizacion);
-	
-	
 			//Creo la cotización detalle
 			CotizacionDetalle nuevoCotizacionDetalle=new CotizacionDetalle();
 			nuevoCotizacionDetalle.setCotizacion(cotizacion);
@@ -355,7 +318,6 @@
 			else 
 				nuevoCotizacionDetalle.setTasa(nuevaCotizacion.getTasa());
 			cotizacionDetalleTransaction.crear(nuevoCotizacionDetalle);
-			
 			//TODO: Grabar el numero de trámite 
 			cotizacion.setNumeroTramite(cotizacion.getId());
 			cotizacion = cotizacionTransaction.editar(cotizacion);	
@@ -359,8 +321,7 @@
 			//TODO: Grabar el numero de trámite 
 			cotizacion.setNumeroTramite(cotizacion.getId());
 			cotizacion = cotizacionTransaction.editar(cotizacion);	
-	
 			/**PROCESO DE CREACION DEL DETALLE DE LA COTIZACION ENDOSO***/
 			AgriCotizacionDetalleProcesos agriCotizacionDetalleProcesos = new AgriCotizacionDetalleProcesos();
 			agriCotizacionDetalleProcesos.creardetalleCotizacion(cotizacion, "Registro Solicitud");
 			/**FIN DE REGISTRO DE ENDOSO**/
@@ -363,8 +324,7 @@
 			/**PROCESO DE CREACION DEL DETALLE DE LA COTIZACION ENDOSO***/
 			AgriCotizacionDetalleProcesos agriCotizacionDetalleProcesos = new AgriCotizacionDetalleProcesos();
 			agriCotizacionDetalleProcesos.creardetalleCotizacion(cotizacion, "Registro Solicitud");
 			/**FIN DE REGISTRO DE ENDOSO**/
-			
 			if(cotizacion.getEstado().getNombre().equals("Pendiente de Emitir")){
 				AgriAuditoriaCotizacion agriAuditoriaCotizacion = new AgriAuditoriaCotizacion();
 				AgriAuditoriaCotizacionTransaction agriAuditoriaCotizacionTransaction = new AgriAuditoriaCotizacionTransaction();
@@ -377,7 +337,6 @@
 			
 			auditoria.setObjeto("Correcto: cotizacion ID: "+cotizacion.getId());
 			procesoAuditoria.crear(auditoria);
-			
 			return cotizacion.getId();
 		}catch(Exception e){
 			auditoria.setObjeto("Error: no se proceso por el siguiente error: "+e.getMessage());
diff --git a/src/com/qbe/cotizador/servlets/producto/agricola/AgriUsuarioOffline.java b/src/com/qbe/cotizador/servlets/producto/agricola/AgriUsuarioOffline.java
--- a/src/com/qbe/cotizador/servlets/producto/agricola/AgriUsuarioOffline.java
+++ b/src/com/qbe/cotizador/servlets/producto/agricola/AgriUsuarioOffline.java
@@ -83,7 +83,7 @@
 			List<AgriParametroXPuntoVenta> agriParametroXPuntoVenta= new ArrayList<AgriParametroXPuntoVenta>();
 			agriParametroXPuntoVenta=agriParametroXPuntoVentaDAO.buscarTodos();
 			for(AgriParametroXPuntoVenta puntoVenta:agriParametroXPuntoVenta){
-				if(puntoVenta.getCanalId().toString().equals("3")||puntoVenta.getCanalId().toString().equals("5")){
+				if(puntoVenta.getCanalId().toString().equals("3")||puntoVenta.getCanalId().toString().equals("5")||puntoVenta.getCanalId().toString().equals("6")){
 					puntosVentaObject.put("codigo", puntoVenta.getPuntoVentaId());
 					PuntoVentaDAO puntoVentaDAO = new PuntoVentaDAO();
 					com.qbe.cotizador.model.PuntoVenta pVenta= puntoVentaDAO.buscarPorId(puntoVenta.getPuntoVentaId().toString());
